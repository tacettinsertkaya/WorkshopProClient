{"version":3,"sources":["webpack:///./src/app/models/dto/retro-reset.ts","webpack:///./src/app/pages/pages.module.ts","webpack:///./src/app/pages/pages.routing.ts","webpack:///./src/app/pages/retro-brainstorm/retro-brainstorm.component.css","webpack:///./src/app/pages/retro-brainstorm/retro-brainstorm.component.html","webpack:///./src/app/pages/retro-brainstorm/retro-brainstorm.component.ts","webpack:///./src/app/pages/retro-categorize/retro-categorize.component.css","webpack:///./src/app/pages/retro-categorize/retro-categorize.component.html","webpack:///./src/app/pages/retro-categorize/retro-categorize.component.ts","webpack:///./src/app/pages/retro-comment/retro-comment.component.css","webpack:///./src/app/pages/retro-comment/retro-comment.component.html","webpack:///./src/app/pages/retro-comment/retro-comment.component.ts","webpack:///./src/app/pages/retro-report/retro-report.component.css","webpack:///./src/app/pages/retro-report/retro-report.component.html","webpack:///./src/app/pages/retro-report/retro-report.component.ts","webpack:///./src/app/pages/retro-start/retro-start.component.css","webpack:///./src/app/pages/retro-start/retro-start.component.html","webpack:///./src/app/pages/retro-start/retro-start.component.ts","webpack:///./src/app/pages/retro-subject/retro-subject.component.css","webpack:///./src/app/pages/retro-subject/retro-subject.component.html","webpack:///./src/app/pages/retro-subject/retro-subject.component.ts","webpack:///./src/app/pages/retro-template/retro-template.component.css","webpack:///./src/app/pages/retro-template/retro-template.component.html","webpack:///./src/app/pages/retro-template/retro-template.component.ts","webpack:///./src/app/pages/retro-vote/retro-vote.component.css","webpack:///./src/app/pages/retro-vote/retro-vote.component.html","webpack:///./src/app/pages/retro-vote/retro-vote.component.ts","webpack:///./src/app/services/hub/retro-hub.service.ts","webpack:///./src/app/services/hub/user-hub.service.ts","webpack:///./src/app/shared/subject-header/subject-header.component.css","webpack:///./src/app/shared/subject-header/subject-header.component.html","webpack:///./src/app/shared/subject-header/subject-header.component.ts","webpack:///./src/app/shared/tab-header/tab-header.component.css","webpack:///./src/app/shared/tab-header/tab-header.component.html","webpack:///./src/app/shared/tab-header/tab-header.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAA6C;AAE7C;IAAA;QACI,WAAM,GAAa,IAAI,yDAAW,EAAE,CAAC;QACrC,UAAK,GAAe,EAAE,CAAC;IAC3B,CAAC;IAAD,iBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLwC;AACM;AACA;AACF;AAEC;AAC4B;AACM;AACG;AACM;AACT;AACS;AAClB;AACM;AACe;AACZ;AAClB;AACe;AAC3B;AACc;AACD;AACH;AACE;AACE;AACK;AACF;AACI;AACpB;AAkDnD;IAAA;IAA0B,CAAC;IAAd,WAAW;QA/CvB,8DAAQ,CAAC;YACN,OAAO,EAAE;gBACL,4DAAY;gBACZ,4DAAY,CAAC,QAAQ,CAAC,0DAAW,CAAC;gBAClC,0DAAW;gBACX,0DAAW;gBACX,oEAAe,CAAC,QAAQ,CAAC;oBACrB,MAAM,EAAE;wBACJ,OAAO,EAAE,oEAAe;wBACxB,UAAU,EAAE,iEAAiB;wBAC7B,IAAI,EAAE,CAAC,gEAAU,CAAC;qBACrB;iBACF,CAAC;aACP;YACD,YAAY,EAAE;gBAEd,sFAAmB;gBAEnB,4FAAqB;gBAErB,+FAAsB;gBAEtB,qGAAwB;gBAExB,4FAAqB;gBAErB,sGAAwB;gBACxB,oFAAkB;gBAClB,0FAAoB;gBACpB,0GAAsB;gBACtB,8FAAkB;aACrB;YACD,SAAS,EAAC;gBACN,gEAAU;gBACV,8EAAe;gBACf,6EAAe;gBACf,4EAAc;gBACd,0EAAa;gBACb,8EAAe;gBACf,2FAAqB;gBACrB,4EAAc;gBAEd,mFAAe;gBACf,iFAAc;aACjB;SACA,CAAC;OAEW,WAAW,CAAG;IAAD,kBAAC;CAAA;AAAH;;;;;;;;;;;;;AC5ExB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyF;AACA;AACT;AACH;AAGH;AACM;AACG;AACZ;AAEhE,IAAM,WAAW,GAAW,CAAC;QAChC,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACN;gBACI,IAAI,EAAE,OAAO;gBACb,SAAS,EAAE,sFAAmB;aACjC;YACD;gBACI,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,4FAAqB;aACnC;YACD;gBACI,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,+FAAsB;aACpC;YACD;gBACI,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,qGAAwB;aACtC;YACD;gBACI,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,qGAAwB;aACtC;YACD;gBACI,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,4FAAqB;aACnC;YACD;gBACI,IAAI,EAAE,MAAM;gBACZ,SAAS,EAAE,mFAAkB;aAChC;YACD;gBACI,IAAI,EAAE,QAAQ;gBACd,SAAS,EAAE,yFAAoB;aAClC;SACJ;KACJ,CAAC,CAAC;;;;;;;;;;;;AChDH,+DAA+D,+K;;;;;;;;;;;ACA/D,4TAA4T,wDAAwD,KAAK,sBAAsB,yIAAyI,qFAAqF,6DAA6D,uKAAuK,iBAAiB,2QAA2Q,aAAa,YAAY,+dAA+d,mBAAmB,mG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAviD;AACvB;AACX;AACiB;AACzB;AACyB;AACjB;AACa;AAGJ;AACf;AACiB;AACT;AAC4B;AACb;AACiC;AAC5D;AACyB;AAEC;AA8B/D;IAqBE,kCACU,WAAwB,EACxB,OAAe,EACf,YAAuC,EACvC,cAA8B,EAC9B,WAAwB,EACxB,eAAgC,EAChC,eAAgC,EAChC,aAA4B,EAC5B,MAAc,EACd,cAA+B,EAC/B,gBAA2C;QAXrD,iBAyBC;QAxBS,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAQ;QACf,iBAAY,GAAZ,YAAY,CAA2B;QACvC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAiB;QAC/B,qBAAgB,GAAhB,gBAAgB,CAA2B;QA9BrD,UAAK,GAAG,WAAW,CAAC;QACpB,eAAU,GAAG,EAAE,CAAC;QAChB,aAAQ,GAAW,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;QACnD,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;QAChC,YAAO,GAAG,IAAI,uDAAO,EAAE,CAAC;QACxB,cAAS,GAAG,EAAE,CAAC;QAEf,aAAQ,GAAG,IAAI,4DAAQ,EAAE,CAAC;QAC1B,WAAM,GAAY,KAAK,CAAC;QAIxB,eAAU,GAAc,IAAI,+DAAS,EAAE,CAAC;QAGxC,YAAO,GAAW,EAAE,CAAC;QAErB,eAAU,GAAS,KAAK,CAAC;QAiBvB,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YACjE,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,IAAI,GAAG,oFAAe,CAAC,IAAI,CAAC,CAAC;gBACjC,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,OAAO,KAAK,KAAI,CAAC,YAAY,CAAC,EAAE,EAAlC,CAAkC,CAAC,CAAC;gBACpE,IAAI,QAAQ,KAAK,SAAS,EAAE;oBAC1B,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBACzB,qBAAqB;iBACtB;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,2CAAQ,GAAR;QAEE,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;IACH,CAAC;IAED,4CAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAID,sDAAmB,GAAnB,UAAoB,OAAO;QAA3B,iBAqBC;QAnBC,IAAI,CAAC,gBAAgB;aAClB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY,EAAE;gBAErB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3C,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;gBAC/C,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aACzC;QACH,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAED,qDAAkB,GAAlB;QAAA,iBAaC;QAXC,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YAEjE,IAAI,IAAI,GAAG,oFAAe,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,OAAO,KAAK,KAAI,CAAC,YAAY,CAAC,EAAE,EAAlC,CAAkC,CAAC,CAAC;YAEpE,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;aAEpC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,+CAAY,GAAZ,UAAa,OAAO;QAApB,iBAkBC;QAjBC,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;QACxB,KAAK,CAAC,EAAE,GAAG,OAAO,CAAC;QACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAExD,IAAI,CAAC,gBAAgB;aAClB,YAAY,CAAC,KAAK,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAExB,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IAET,CAAC;IAEO,kDAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAE7B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAMD,8CAAW,GAAX,UAAY,UAAe;QAA3B,iBAYC;QAVC,IAAI,CAAC,eAAe;aACjB,WAAW,CAAC,UAAU,CAAC;aACvB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAED,6CAAU,GAAV,UAAW,CAAC;QACV,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;IAID,8CAAW,GAAX,UAAY,QAAgB;QAA5B,iBA6BC;QA5BC,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAErC,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE;YAE/B,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;YAGpD,IAAI,CAAC,OAAO,GAAG,IAAI,uDAAO,EAAE,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YACzC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,QAAQ,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;YAE5C,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;gBAC3D,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;gBACtB,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;gBAC9B,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvE,UAAU,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;SAKJ;IACH,CAAC;IAGD,6CAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC/B,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IA1LmB;QAAnB,+DAAS,CAAC,OAAO,CAAC;kCAAU,wDAAU;6DAAC;IAZ7B,wBAAwB;QA1BpC,+DAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;YAChC,0IAAgD;YAEhD,UAAU,EAAE;gBAEV,oEAAO,CAAC,aAAa,EAAE;oBACrB,uEAAU,CAAC,QAAQ,EACjB;wBACE,kEAAK,CAAC,QAAQ,EAAE,CAAC,oEAAO,CAAC,GAAG,EAAE,CAAC,oEAAO,CAAC,MAAM,EAAE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxE,QAAQ,EAAE,IAAI;yBACf,CAAC;wBACF,kEAAK,CACH,QAAQ,EACR;4BACE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;4BACrB,oEAAO,CAAC,GAAG,EAAE,CAAC,oEAAO,CAAC,MAAM,EAAE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;yBACvD,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB;qBACF,CAAC;iBAEL,CAAC;aAEH;;SACF,CAAC;yCAuBuB,kEAAW;YACf,oDAAM;YACD,2FAAyB;YACvB,wEAAc;YACjB,qEAAW;YACP,8EAAe;YACf,6EAAe;YACjB,yEAAa;YACpB,uDAAM;YACE,6EAAe;YACb,2FAAyB;OAhC1C,wBAAwB,CAyNpC;IAAD,+BAAC;CAAA;AAzNoC;;;;;;;;;;;;AClDrC,+BAA+B,2BAA2B,OAAO,qBAAqB,2BAA2B,4BAA4B,OAAO,+BAA+B,0BAA0B,wBAAwB,OAAO,yBAAyB,oCAAoC,OAAO,8BAA8B,0BAA0B,wBAAwB,4BAA4B,OAAO,+CAA+C,mhC;;;;;;;;;;;ACAld,6RAA6R,6CAA6C,mOAAmO,YAAY,uLAAuL,oBAAoB,0XAA0X,mBAAmB,2mBAA2mB,iCAAiC,6JAA6J,iNAAiN,8CAA8C,4LAA4L,mBAAmB,gbAAgb,oBAAoB,seAAse,+BAA+B,sMAAsM,yCAAyC,uH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAt+G;AAChC;AACL;AACN;AACyB;AAE3B;AACJ;AACI;AACE;AACiB;AACA;AACF;AACe;AACd;AACC;AACR;AACjB;AAEF;AACkB;AA8BvD;IAiBE,kCACU,cAA8B,EAC9B,eAAgC,EAChC,eAAgC,EAChC,gBAAiC,EACjC,WAAwB,EACxB,cAA+B,EAC/B,SAA0B,EAC1B,gBAA2C;QAMnD,wCAAwC;QACxC,kDAAkD;QAfpD,iBAyBC;QAxBS,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAiB;QAC1B,qBAAgB,GAAhB,gBAAgB,CAA2B;QAvBrD,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;QAChC,cAAS,GAAG,IAAI,KAAK,EAAsB,CAAC;QAC5C,YAAO,GAAY,IAAI,0DAAO,EAAE,CAAC;QACjC,sBAAiB,GAAG,IAAI,KAAK,EAAe,CAAC;QAC7C,qBAAgB,GAAG,IAAI,KAAK,EAAW,CAAC;QACxC,WAAM,GAAY,KAAK,CAAC;QAExB,gBAAW,GAAgB,IAAI,kEAAW,EAAE,CAAC;QAC7C,wBAAmB,GAAG,IAAI,KAAK,EAAsB,CAAC;QAEtD,aAAQ,GAAa,IAAI,4DAAQ,EAAE,CAAC;QAEpC,kBAAa,GAAY,IAAI,0DAAO,EAAE,CAAC;QACvC,YAAO,GAAQ,EAAE,CAAC;QAoBhB,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YACnE,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACtC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,2CAAQ,GAAR;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAGD,sDAAmB,GAAnB,UAAoB,OAAO;QAA3B,iBAqBC;QAnBC,IAAI,CAAC,gBAAgB;aAClB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3C,KAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;gBACpD,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACtC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aACxC;QACH,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAEO,kDAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE3B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAGO,mDAAgB,GAAxB,UAAyB,QAAQ;QAE/B,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,cAAc,IAAI,QAAQ,EAA5B,CAA4B,CAAC,CAAC;QAC3E,OAAO,YAAY,CAAC;IACtB,CAAC;IAEO,mDAAgB,GAAxB,UAAyB,UAAU;QAAnC,iBAaC;QAZC,IAAI,CAAC,eAAe;aACjB,WAAW,CAAC,UAAU,CAAC;aACvB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAChC,CAAC,CACF,CAAC;IACN,CAAC;IAKD,4CAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEO,6CAAU,GAAlB,UAAmB,OAAO;QAA1B,iBAeC;QAbC,IAAI,CAAC,cAAc;aAChB,wBAAwB,CAAC,OAAO,CAAC;aACjC,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAEhC,CAAC,CACF,CAAC;IACN,CAAC;IAEO,8CAAW,GAAnB,UAAoB,OAAO;QAA3B,iBAcC;QAbC,IAAI,CAAC,cAAc;aAChB,qBAAqB,CAAC,OAAO,CAAC;aAC9B,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YAEH,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAClC,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAEhC,CAAC,CACF,CAAC;IACN,CAAC;IAED,6CAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC/B,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iDAAc,GAAd,UAAe,IAAI;QAAnB,iBAgBC;QAfC,IAAI,CAAC,eAAe;aACjB,qBAAqB,CAAC,IAAI,CAAC;aAC3B,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YAEH,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;YACxB,KAAK,CAAC,EAAE,GAAG,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC;YAChC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,KAAK,CAAC,UAAU,GAAG,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC;YAChD,KAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAC7C,sDAAsD;QACxD,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAED,gDAAa,GAAb;QAAA,iBA6BC;QA5BC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAI3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,CAAC;YAErB,IAAI,CAAC,CAAC,aAAa,EAAE;gBACnB,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;QAKH,IAAI,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,cAAc,IAAI,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,cAAc,EAA3D,CAA2D,CAAC,CAAC;QAC7G,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC;SAEpF;aACI;YAEH,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC;gBACnC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;;gBAE/E,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SAErC;IAEH,CAAC;IAKD,kDAAe,GAAf;QAAA,iBAmDC;QAjDC,IAAI,eAAe,GAAG,IAAI,qFAAkB,EAAE,CAAC;QAC/C,IAAI,QAAQ,GAAG,IAAI,4DAAQ,EAAE,CAAC;QAC9B,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QAEhD,eAAe,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACpC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEjD,IAAI,CAAC,eAAe;aACjB,qBAAqB,CAAC,eAAe,CAAC;aACtC,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YAEH,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAElC,4CAA4C;YAC5C,qFAAqF;YACrF,gCAAgC;YAEhC,IAAI,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;YAGpD,IAAI,OAAO,GAAG,IAAI,0DAAO,EAAE,CAAC;YAC5B,OAAO,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,CAAC,cAAc,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;YACjE,OAAO,CAAC,IAAI,GAAG,UAAU,CAAC;YAC1B,OAAO,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC7C,OAAO,CAAC,SAAS,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACvD,OAAO,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YAC1B,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC;YAC9B,OAAO,CAAC,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YAEnD,KAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;gBACtD,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,CAAC;gBACzE,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;gBACtE,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACxB,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAGxB,KAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC;YAG9B,CAAC,CAAC,CAAC;QAGL,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAvQU,wBAAwB;QAxBpC,+DAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;YAChC,0IAAgD;YAEhD,UAAU,EAAE;gBACV,mEAAO,CAAC,aAAa,EAAE;oBACrB,sEAAU,CAAC,QAAQ,EAAE;wBACnB,iEAAK,CAAC,QAAQ,EAAE,CAAC,mEAAO,CAAC,GAAG,EAAE,CAAC,mEAAO,CAAC,MAAM,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxE,QAAQ,EAAE,IAAI;yBACf,CAAC;wBACF,iEAAK,CACH,QAAQ,EACR;4BACE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;4BACrB,mEAAO,CAAC,GAAG,EAAE,CAAC,mEAAO,CAAC,MAAM,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;yBACvD,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB;qBACF,CAAC;iBAEH,CAAC;aAEH;;SACF,CAAC;yCAmB0B,4EAAc;YACb,8EAAe;YACf,8EAAe;YACd,6EAAe;YACpB,sEAAW;YACR,6EAAe;YACrB,qEAAgB;YACR,2FAAyB;OAzB1C,wBAAwB,CA6QpC;IAAD,+BAAC;CAAA;AA7QoC;;;;;;;;;;;;AClDrC,+DAA+D,uK;;;;;;;;;;;ACA/D,gUAAgU,oCAAoC,IAAI,2BAA2B,wMAAwM,YAAY,mTAAmT,mBAAmB,6OAA6O,8BAA8B,0VAA0V,mBAAmB,+mBAA+mB,uCAAuC,6JAA6J,wMAAwM,uKAAuK,mBAAmB,mTAAmT,+BAA+B,yNAAyN,oCAAoC,iH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA/tG;AACA;AACX;AACA;AACiB;AACzB;AACyB;AACjB;AACa;AACf;AAEJ;AACe;AACP;AACyC;AAC3B;AACc;AACxC;AACyB;AAmC9D;IAkBE,+BACU,WAAwB,EACxB,OAAe,EACf,WAAwB,EACxB,cAA8B,EAC9B,eAAgC,EAChC,aAA4B,EAC5B,cAA+B,EAC/B,gBAA2C;QARrD,iBA8BC;QA7BS,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAQ;QACf,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAiB;QAC/B,qBAAgB,GAAhB,gBAAgB,CAA2B;QAxBrD,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;QAChC,oBAAe,GAAG,IAAI,uDAAO,EAAE,CAAC;QAChC,iBAAY,GAAG,CAAC,CAAC;QACjB,gBAAW,GAAW,EAAE,CAAC;QACzB,YAAO,GAAY,IAAI,uDAAO,EAAE,CAAC;QACjC,eAAU,GAAc,IAAI,+DAAS,EAAE,CAAC;QACxC,WAAM,GAAY,KAAK,CAAC;QAExB,aAAQ,GAAa,IAAI,4DAAQ,EAAE,CAAC;QAIpC,YAAO,GAAQ,EAAE,CAAC;QAClB,kBAAa,GAAY,IAAI,0DAAO,EAAE,CAAC;QAcrC,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YAC/E,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,IAAI,GAAG,oFAAe,CAAC,IAAI,CAAC,CAAC;gBAEjC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnB,IAAI,SAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,QAAC,CAAC,EAAE,IAAI,SAAO,CAAC,SAAS,EAAzB,CAAyB,CAAC,CAAC;oBAErE,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,IAAI,EAAE;wBAGrD,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAO,CAAC,CAAC;qBAEtC;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IAGL,CAAC;IAED,wCAAQ,GAAR;QAEE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;QAID,IAAI,CAAC,SAAS,EAAE,CAAC;IAEnB,CAAC;IAGD,mDAAmB,GAAnB,UAAoB,OAAO;QAA3B,iBAsBC;QApBC,IAAI,CAAC,gBAAgB;aAClB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3C,KAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC5C,KAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aAEzC;QACH,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAGO,+CAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE3B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAED,4CAAY,GAAZ,UAAa,OAAO;QAApB,iBAkBC;QAjBC,IAAI,KAAK,GAAG,IAAI,uDAAK,EAAE,CAAC;QACxB,KAAK,CAAC,EAAE,GAAG,OAAO,CAAC;QACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAExD,IAAI,CAAC,gBAAgB;aAClB,YAAY,CAAC,KAAK,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAExB,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IAET,CAAC;IAIO,gDAAgB,GAAxB,UAAyB,QAAQ;QAE/B,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,cAAc,IAAI,QAAQ,EAA5B,CAA4B,CAAC,CAAC;QAG3E,OAAO,YAAY,CAAC;IACtB,CAAC;IAEO,gDAAgB,GAAxB,UAAyB,OAAO;QAAhC,iBAWC;QAVC,IAAI,CAAC,eAAe;aACjB,oBAAoB,CAAC,OAAO,CAAC;aAC7B,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAKD,0CAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC/B,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAAU,GAAV,UAAW,CAAC;QACV,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,+CAAe,GAAf,UAAgB,OAAO;QACrB,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IAED,2CAAW,GAAX;QAAA,iBAqBC;QApBC,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;QAEpD,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE;YAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,uDAAO,EAAE,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YACzC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;YAE5C,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;gBAC3D,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;gBACtE,UAAU,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;gBAC7B,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;gBACtB,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;YAGH,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SAClC;IACH,CAAC;IACD,yCAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAUO,0CAAU,GAAlB;QAAA,iBAoBC;QAlBC,IAAI,CAAC,cAAc;aAChB,wBAAwB,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;aAC9C,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,aAAa,IAAI,KAAK,EAAxB,CAAwB,CAAC,CAAC;YAE3D,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAI;gBACxB,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxC,CAAC,CAAC;YAGF,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzC,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IAEN,CAAC;IA5NU,qBAAqB;QAxBjC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;YAC7B,iIAA6C;YAE7C,UAAU,EAAE;gBACV,oEAAO,CAAC,aAAa,EAAE;oBACrB,uEAAU,CAAC,QAAQ,EAAE;wBACnB,kEAAK,CAAC,QAAQ,EAAE,CAAC,oEAAO,CAAC,GAAG,EAAE,CAAC,oEAAO,CAAC,MAAM,EAAE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxE,QAAQ,EAAE,IAAI;yBACf,CAAC;wBACF,kEAAK,CACH,QAAQ,EACR;4BACE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;4BACrB,oEAAO,CAAC,GAAG,EAAE,CAAC,oEAAO,CAAC,MAAM,EAAE,kEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;yBACvD,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB;qBACF,CAAC;iBAEH,CAAC;aAEH;;SACF,CAAC;yCAoBuB,kEAAW;YACf,oDAAM;YACF,sEAAW;YACR,wEAAc;YACb,6EAAe;YACjB,yEAAa;YACZ,6EAAe;YACb,2FAAyB;OA1B1C,qBAAqB,CA8NjC;IAAD,4BAAC;CAAA;AA9NiC;;;;;;;;;;;;ACrDlC,+DAA+D,mK;;;;;;;;;;;ACA/D,gXAAgX,kDAAkD,sJAAsJ,yCAAyC,wJAAwJ,oCAAoC,wEAAwE,8CAA8C,gIAAgI,oCAAoC,iJAAiJ,sBAAsB,qDAAqD,4BAA4B,wNAAwN,6CAA6C,wMAAwM,YAAY,2MAA2M,wJAAwJ,2BAA2B,qBAAqB,wGAAwG,mGAAmG,mBAAmB,8fAA8f,YAAY,2TAA2T,4BAA4B,qBAAqB,uGAAuG,mGAAmG,mBAAmB,+PAA+P,qCAAqC,yEAAyE,yCAAyC,gIAAgI,oCAAoC,uJAAuJ,sBAAsB,qDAAqD,4BAA4B,6OAA6O,6CAA6C,kMAAkM,YAAY,2MAA2M,uJAAuJ,2BAA2B,qBAAqB,uGAAuG,mGAAmG,mBAAmB,8WAA8W,qBAAqB,2VAA2V,0CAA0C,sLAAsL,YAAY,0TAA0T,2BAA2B,qBAAqB,wGAAwG,mGAAmG,mBAAmB,wWAAwW,qBAAqB,slBAAslB,YAAY,6PAA6P,qBAAqB,yHAAyH,mBAAmB,wSAAwS,qBAAqB,4W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAn7Q;AAC/D;AAKR;AACA;AACmB;AACR;AACM;AACF;AACrB;AACC;AACC;AACsB;AAIc;AAEb;AACjB;AACS;AAEM;AACJ;AACA;AACM;AAGf;AACa;AACzB;AACmB;AAGA;AAWxD;IA4BE,8BAEU,OAAe,EACf,MAAc,EACd,WAAwB,EACxB,YAA0B,EAC1B,eAAgC,EAChC,WAAwB,EACxB,cAA8B,EAC9B,cAA8B,EAC9B,yBAAoD,EACpD,cAA+B,EAC/B,eAAgC,EAChC,eAAgC,EAChC,gBAA2C,EAC3C,aAA4B;QAb5B,YAAO,GAAP,OAAO,CAAQ;QACf,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,8BAAyB,GAAzB,yBAAyB,CAA2B;QACpD,mBAAc,GAAd,cAAc,CAAiB;QAC/B,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,qBAAgB,GAAhB,gBAAgB,CAA2B;QAC3C,kBAAa,GAAb,aAAa,CAAe;QAzCtC,YAAO,GAAG,IAAI,0DAAO,EAAE,CAAC;QACxB,aAAQ,GAAG,IAAI,KAAK,EAAW,CAAC;QAEhC,cAAS,GAAG,IAAI,KAAK,EAAsB,CAAC;QAC5C,YAAO,GAAY,IAAI,0DAAO,EAAE,CAAC;QACjC,wBAAmB,GAAG,KAAK,EAAW,CAAC;QACvC,gBAAW,GAAgB,IAAI,kEAAW,EAAE,CAAC;QAC7C,wBAAmB,GAAG,IAAI,KAAK,EAAW,CAAC;QAC3C,gBAAW,GAAG,IAAI,KAAK,EAAW,CAAC;QACnC,2BAAsB,GAAG,IAAI,KAAK,EAAsB,CAAC;QACzD,aAAQ,GAAG,IAAI,KAAK,EAAO,CAAC;QAC5B,UAAK,GAAU,IAAI,uDAAK,EAAE,CAAC;QAEpB,gBAAW,GAAG,IAAI,CAAC;QAI1B,aAAQ,GAAa,IAAI,6DAAQ,EAAE,CAAC;QAEpC,eAAU,GAAc,IAAI,+DAAS,EAAE,CAAC;QAGxC,gBAAW,GAA8B,EAAE,CAAC;QAC5C,YAAO,GAAW,EAAE,CAAC;IA0BrB,CAAC;IAID,uCAAQ,GAAR;QACE,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YACnB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC;SACjE;QAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QAEpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;IAKH,CAAC;IAED,kDAAmB,GAAnB,UAAoB,OAAO;QAA3B,iBAwBC;QAtBC,IAAI,CAAC,gBAAgB;aAClB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY,EAAE;gBAErB,6BAA6B;gBAC7B,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3C,KAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAE5C,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACxC,KAAI,CAAC,aAAa,EAAE,CAAC;aACtB;QACH,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAKD,2CAAY,GAAZ,UAAa,OAAO;QAApB,iBAkBC;QAjBC,IAAI,KAAK,GAAG,IAAI,uDAAK,EAAE,CAAC;QACxB,KAAK,CAAC,EAAE,GAAG,OAAO,CAAC;QACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAExD,IAAI,CAAC,gBAAgB;aAClB,YAAY,CAAC,KAAK,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAExB,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IAET,CAAC;IAEO,8CAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QAErB,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAOD,uCAAQ,GAAR;QACE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAE5C,CAAC;IAKD,4CAAa,GAAb;QAAA,iBAcC;QAbC,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YAEnE,IAAI,GAAG,GAAG,oFAAe,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,KAAI,CAAC,YAAY,EAAE;gBAErB,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;oBAElB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,OAAO,IAAI,KAAI,CAAC,YAAY,CAAC,EAAE,EAAjC,CAAiC,CAAC,CAAC;iBAEvE;aAEF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IASO,2DAA4B,GAApC,UAAqC,QAAQ;QAE3C,IAAI,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,cAAc,IAAI,QAAQ,EAA5B,CAA4B,CAAC,CAAC;QACtF,OAAO,YAAY,CAAC;IACtB,CAAC;IAEO,+CAAgB,GAAxB,UAAyB,QAAQ;QAE/B,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,cAAc,IAAI,QAAQ,EAA5B,CAA4B,CAAC,CAAC;QAC3E,OAAO,YAAY,CAAC;IACtB,CAAC;IAEO,+CAAgB,GAAxB,UAAyB,OAAO;QAAhC,iBAWC;QAVC,IAAI,CAAC,eAAe;aACjB,oBAAoB,CAAC,OAAO,CAAC;aAC7B,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QACxC,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAEO,yCAAU,GAAlB,UAAmB,OAAO;QAA1B,iBAeC;QAbC,IAAI,CAAC,cAAc;aAChB,gBAAgB,CAAC,OAAO,CAAC;aACzB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;YAGpD,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC3B,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAID,yCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC/B,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,wCAAS,GAAT;QAAA,iBAkBC;QAjBC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,IAAI,GAAG,IAAI,sEAAU,EAAE,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;QACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAEpC,IAAI,CAAC,yBAAyB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;YAEjE,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC;YAEzD,IAAI,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACnD,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAE3B,CAAC,CAAC,CAAC;IACL,CAAC;IAID,0CAAW,GAAX;QAEE,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YAEnB,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,CAAC,CAAC;YACpE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAExC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBAEtC,IAAI,KAAK,GAAG,IAAI,uDAAK,EAAE,CAAC;gBACxB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;gBAChC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;gBAChB,KAAK,CAAC,WAAW,GAAG,iBAAiB;gBACrC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;aAG1C;SAEF;IACH,CAAC;IAED,4CAAa,GAAb,UAAc,OAAgB;QAA9B,iBAkCC;QAjCC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,CAAC,UAAC,GAAG;YAEvD,IAAI,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;YACpD,WAAW,CAAC,OAAO,GAAG,GAAG,CAAC;YAC1B,KAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;YAElD,IAAI,MAAM,GAAG,IAAI,wEAAW,EAAE,CAAC;YAC/B,MAAM,CAAC,SAAS,GAAG,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;YAC/D,MAAM,CAAC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;YAE3D,IAAI,SAAS,GAAG,IAAI,sEAAU,EAAE,CAAC;YACjC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;YAE1B,IAAI,OAAO,GAAG,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5E,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC;YAG1B,KAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,CAAC,UAAC,GAAG;YAI3D,CAAC,CAAC,CAAC;YAED,IAAI,KAAK,GAAG,IAAI,uDAAK,EAAE,CAAC;YACxB,KAAK,CAAC,EAAE,GAAG,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC;YAChC,KAAK,CAAC,WAAW,GAAG,iBAAiB;YAErC,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1E,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAI1B,CAAC,CAAC,CAAC;IACL,CAAC;IA3SU,oBAAoB;QALhC,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,8HAA4C;;SAE7C,CAAC;yCA+BmB,oDAAM;YACP,sDAAM;YACD,qEAAW;YACV,wEAAY;YACT,8EAAe;YACnB,sEAAW;YACR,2EAAc;YACd,4EAAc;YACH,2FAAyB;YACpC,6EAAe;YACd,6EAAe;YACf,8EAAe;YACd,2FAAyB;YAC5B,yEAAa;OA3C3B,oBAAoB,CA6ShC;IAAD,2BAAC;CAAA;AA7SgC;;;;;;;;;;;;AChDjC,+DAA+D,mK;;;;;;;;;;;ACA/D,yRAAyR,mCAAmC,0DAA0D,mDAAmD,+JAA+J,mBAAmB,yEAAyE,gDAAgD,kKAAkK,mBAAmB,yEAAyE,qDAAqD,+JAA+J,mBAAmB,4MAA4M,mCAAmC,uE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA92C;AACE;AAEO;AACU;AACtC;AACkB;AACD;AAEf;AACQ;AACF;AAEW;AAEA;AAC3B;AAC+B;AAEE;AACK;AACF;AACR;AAEtB;AAGkB;AAOvD;IAgBE,6BACU,aAA4B,EAC5B,WAAwB,EACxB,YAA0B,EAC1B,cAA8B,EAC9B,aAAwC,EACxC,MAAc,EACd,eAAgC,EAChC,cAA8B,EAC9B,eAAgC,EAChC,OAAe,EACf,KAAqB,EACrB,SAA0B;QAX1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAA2B;QACxC,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAQ;QACf,UAAK,GAAL,KAAK,CAAgB;QACrB,cAAS,GAAT,SAAS,CAAiB;QA1BpC;;WAEG;QACH,iBAAY,GAAU,IAAI,sDAAK,EAAE,CAAC;QAClC,WAAM,GAAG,IAAI,4DAAM,EAAE,CAAC;QACtB,WAAM,GAAsB,IAAI,gFAAiB,EAAE,CAAC;QACpD,kBAAa,GAAY,IAAI,CAAC;QAC9B,WAAM,GAAY,KAAK,CAAC;QACxB,eAAU,GAAc,IAAI,8DAAS,EAAE,CAAC;QACxC,aAAQ,GAAG,KAAK,CAAC;QACjB,kBAAa,GAAG,KAAK,CAAC;QACtB,wBAAmB,GAAG,IAAI,KAAK,EAAsB,CAAC;QACtD,WAAM,GAAoB,EAAE,CAAC;IAkB7B,CAAC;IAED,sCAAQ,GAAR;QACE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QACvC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAClC,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;QAGpD,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC,CAAC;SAChD;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YACnB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACjC;IAGH,CAAC;IAED,oCAAM,GAAN;QACE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAED,sCAAQ,GAAR;QACE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAED,2CAAa,GAAb;QAEE,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC;IAC7C,CAAC;IAOD,sDAAwB,GAAxB;QAAA,iBA4BC;QA3BC,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;QAElD,IAAI,CAAC,cAAc;aAChB,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;aAC/B,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,IAAI,OAAO,GAAG,GAAG,CAAC;YAClB,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,EAAE;gBACtC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,mDAAI,CACF;oBACE,KAAK,EAAE,QAAQ;oBACf,IAAI,EAAE,+CAA+C;oBACrD,IAAI,EAAE,SAAS;oBACf,iBAAiB,EAAE,KAAK;oBACxB,KAAK,EAAE,IAAI;oBACX,cAAc,EAAE,KAAK;iBACtB,CACF;aACF;iBACI;gBACH,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B;QACH,CAAC,CAAC,CAAC;IAGT,CAAC;IAID,4CAAc,GAAd;QACE,IAAI,MAAM,GAAG,IAAI,wEAAW,EAAE,CAAC;QAC/B,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;QAC/D,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC3D,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAC3B,CAAC;IAGD,yCAAW,GAAX,UAAY,MAAM;QAAlB,iBAiCC;QA9BC,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,MAAM,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAElB,IAAI,KAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;gBAC3B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,mDAAI,CACF;oBACE,KAAK,EAAE,QAAQ;oBACf,IAAI,EAAE,6CAA6C;oBACnD,IAAI,EAAE,SAAS;oBACf,iBAAiB,EAAE,KAAK;oBACxB,KAAK,EAAE,IAAI;oBACX,cAAc,EAAE,KAAK;iBACtB,CACF;aACF;iBACI;gBACH,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;QAGH,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC,CACF,CAAC;IACN,CAAC;IAED,yCAAW,GAAX,UAAY,KAAY;QACtB,IAAI,CAAC,YAAY;aACd,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;QAEJ,CAAC,CAAC,CAAC;IACT,CAAC;IAGD,wCAAU,GAAV;QAAA,iBAoDC;QAnDC,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;QAIxC,IAAI,CAAC,aAAa;aACf,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAGF,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAGlB,IAAI,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;YAEpD,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;YACxB,KAAK,CAAC,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;YACvB,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YAClC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,KAAK,CAAC,WAAW,GAAG,kBAAkB;YAEtC,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAE1C,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAE/B,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAEvC,IAAI,SAAS,GAAG,IAAI,yEAAa,EAAE,CAAC;YAIpC,IAAI,OAAO,GAAG,IAAI,sDAAK,EAAE,CAAC;YAC1B,OAAO,CAAC,WAAW,GAAG,kBAAkB,CAAC;YACzC,OAAO,CAAC,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;YAEzB,KAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAEpD,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1E,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAC;gBAE5B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;QAGL,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;QAC9B,CAAC,CACF,CAAC;IACN,CAAC;IAjNU,mBAAmB;QAL/B,+DAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,2HAA2C;;SAE5C,CAAC;yCAkByB,yEAAa;YACf,qEAAW;YACV,wEAAY;YACV,4EAAc;YACf,0FAAyB;YAChC,sDAAM;YACG,mFAAe;YAChB,iFAAc;YACb,8EAAe;YACvB,oDAAM;YACR,8DAAc;YACX,qEAAgB;OA5BzB,mBAAmB,CAkN/B;IAAD,0BAAC;CAAA;AAlN+B;;;;;;;;;;;;AClChC,+DAA+D,uK;;;;;;;;;;;ACA/D,2PAA2P,2CAA2C,0IAA0I,6GAA6G,sPAAsP,wCAAwC,qFAAqF,wBAAwB,uEAAuE,4DAA4D,+jBAA+jB,gBAAgB,8JAA8J,uKAAuK,uCAAuC,2IAA2I,mBAAmB,qDAAqD,8CAA8C,iGAAiG,qBAAqB,2IAA2I,oCAAoC,2LAA2L,mBAAmB,oIAAoI,sCAAsC,2FAA2F,kEAAkE,mBAAmB,6VAA6V,+BAA+B,wKAAwK,6BAA6B,2G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3jH;AACb;AACkB;AACxB;AACqB;AAC7B;AACyB;AACA;AACf;AAC0B;AACX;AACM;AAEA;AACE;AACvB;AAC4B;AACF;AACU;AAIxC;AAEkB;AAOvD;IAcE,+BACU,cAA+B,EAC/B,aAA4B,EAC5B,WAAwB,EACxB,WAAwB,EACxB,oBAA+C,EAC/C,eAAgC,EAChC,cAA8B,EAC9B,eAAgC,EAChC,cAA8B,EAC9B,SAA2B,EAC3B,MAAc,EAGd,OAAe;QAbf,mBAAc,GAAd,cAAc,CAAiB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,yBAAoB,GAApB,oBAAoB,CAA2B;QAC/C,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QAGd,YAAO,GAAP,OAAO,CAAQ;QA3BzB,aAAQ,GAAmB,EAAE,CAAC;QAC9B,YAAO,GAAY,IAAI,0DAAO,EAAE,CAAC;QACjC,aAAQ,GAAY,KAAK,CAAC;QAC1B,WAAM,GAAY,KAAK,CAAC;QACxB,eAAU,GAAsB,IAAI,gFAAiB,EAAE,CAAC;QACxD,UAAK,GAAU,IAAI,sDAAK,EAAE,CAAC;QAC3B,oBAAe,GAAQ,EAAE,CAAC;QAC1B,aAAQ,GAAmB,EAAE,CAAC;QAC9B,cAAS,GAAW,EAAE,CAAC;QAEvB,YAAO,GAAW,EAAE,CAAC;QACrB,kBAAa,GAAW,EAAE,CAAC;IAiBvB,CAAC;IAEL,wCAAQ,GAAR;QAEE,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;QACrE,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QAEpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;QAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM;IAE/D,CAAC;IAKD,6CAAa,GAAb,UAAc,OAAY;QAA1B,iBAwCC;QArCC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAGtC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,EAAE,CAAC;YAElC,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;YACxB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;YACvC,KAAK,CAAC,WAAW,GAAG,mBAAmB,CAAC;YAExC,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;gBAC7D,IAAI,gBAAgB,GAAG,IAAI,sEAAU,EAAE,CAAC;gBACxC,gBAAgB,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;gBACjC,gBAAgB,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;gBACrD,gBAAgB,CAAC,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,CAAC;gBACjE,gBAAgB,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC;gBAGxC,IAAI,OAAO,GAAG,IAAI,sDAAK,EAAE,CAAC;gBAC1B,OAAO,CAAC,WAAW,GAAG,mBAAmB,CAAC;gBAC1C,OAAO,CAAC,EAAE,GAAG,KAAI,CAAC,OAAO,CAAC;gBAC1B,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;gBAC1E,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAGxB,KAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,SAAS,CACtE,UAAC,GAAG;oBACF,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC9C,CAAC,CACF,CAAC;YAEJ,CAAC,CAAC,CAAC;SAIJ;IACH,CAAC;IAED,yCAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAGD,6CAAa,GAAb;QAAA,iBAaC;QAXC,IAAI,CAAC,cAAc;aAChB,aAAa,EAAE;aACf,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACtB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;QAC9B,CAAC,CACF,CAAC;IACN,CAAC;IAED,4CAAY,GAAZ,UAAa,OAAgB;QAE3B,OAAO,IAAI,CAAC,aAAa,IAAI,OAAO,CAAC,MAAM,CAAC;IAC9C,CAAC;IAED,2CAAW,GAAX;QAAA,iBAoBC;QAnBC,IAAI,MAAM,GAAG,IAAI,4EAAa,EAAE,CAAC;QACjC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;QAC/D,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAE9B,IAAI,CAAC,cAAc;aAChB,aAAa,CAAC,MAAM,CAAC;aACrB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClB,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;aACrB;iBAAM;gBACL,KAAI,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;aACnD;QACH,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;QAC9B,CAAC,CACF,CAAC;IACN,CAAC;IAED,2CAAW,GAAX,UAAY,SAAc;QAA1B,iBASC;QARC,IAAI,CAAC,cAAc;aAChB,UAAU,CAAC,SAAS,CAAC;aACrB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6CAAa,GAAb,UAAc,SAAc;QAA5B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,MAAM,CAAC,SAAS,CAAC;aACjB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE;YAC9B,KAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;QAC9B,CAAC,CACF,CAAC;IACN,CAAC;IAED,wCAAQ,GAAR;QACE,IAAI,IAAI,CAAC,QAAQ;YACf,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;;YAEtD,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;IACzD,CAAC;IAED,2CAAW,GAAX;QAAA,iBA8CC;QA7CC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAC3D,WAAW,EACX,EAAE,CACH,CAAC;QAGF,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;YAEvD,IAAI,CAAC,cAAc;iBAChB,MAAM,CAAC,IAAI,CAAC;iBACZ,IAAI,CAAC,4DAAK,EAAE,CAAC;iBACb,SAAS,CACR,UAAC,GAAG;gBACF,KAAI,CAAC,OAAO,CAAC,YAAY,GAAG,EAAE,CAAC;gBAC/B,KAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,EAAE,CAAC;gBACrC,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBAC9B,KAAI,CAAC,WAAW,EAAE,CAAC;gBAEnB,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC,EACD,UAAC,KAAK;gBACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC9B,CAAC,CACF,CAAC;SACL;aAAM;YACL,IAAI,CAAC,cAAc;iBAChB,MAAM,CAAC,IAAI,CAAC;iBACZ,IAAI,CAAC,4DAAK,EAAE,CAAC;iBACb,SAAS,CACR,UAAC,GAAG;gBACF,KAAI,CAAC,OAAO,CAAC,YAAY,GAAG,EAAE,CAAC;gBAC/B,KAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,EAAE,CAAC;gBACrC,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBAC9B,KAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC,EACD,UAAC,KAAK;gBACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC9B,CAAC,CACF,CAAC;SACL;IACH,CAAC;IAED,wCAAQ,GAAR,UAAS,IAAI,EAAE,EAAM;QAArB,iBAkCC;QAlCc,2BAAM;QACnB,IAAI,IAAI,IAAI,kCAAkC,EAAE;YAC9C,kDAAI,CAAC;gBACH,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,wBAAwB,CAAC;gBACvD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAA6B,CAAC;gBAC3D,IAAI,EAAE,SAAS;gBACf,gBAAgB,EAAE,IAAI;gBACtB,kBAAkB,EAAE,iBAAiB;gBACrC,iBAAiB,EAAE,gBAAgB;gBACnC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC;gBACvD,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC;gBACrD,cAAc,EAAE,KAAK;aACtB,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBACb,IAAI,MAAM,CAAC,KAAK,EAAE;oBAChB,CAAC,CAAC,qBAAqB,CAAC,CAAC,KAAK,EAAE,CAAC;iBAClC;YACH,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,IAAI,IAAI,yCAAyC,EAAE;YACrD,kDAAI,CAAC;gBACH,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,gBAAgB,CAAC;gBAC/C,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,uBAAuB,CAAC;gBACrD,IAAI,EAAE,SAAS;gBACf,gBAAgB,EAAE,IAAI;gBACtB,kBAAkB,EAAE,iBAAiB;gBACrC,iBAAiB,EAAE,gBAAgB;gBACnC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC;gBACvD,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC;aACtD,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBACb,IAAI,MAAM,CAAC,KAAK,EAAE;oBAChB,KAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;iBACxB;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IA9PU,qBAAqB;QALjC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;YAC7B,iIAA6C;;SAE9C,CAAC;yCAgB0B,4EAAe;YAChB,yEAAa;YACf,qEAAW;YACX,qEAAW;YACF,2FAAyB;YAC9B,mFAAe;YAChB,iFAAc;YACb,8EAAe;YAChB,4EAAc;YACnB,qEAAgB;YACnB,uDAAM;YAGL,oDAAM;OA5Bd,qBAAqB,CAgQjC;IAAD,4BAAC;CAAA;AAhQiC;;;;;;;;;;;;AC/BlC,+DAA+D,2K;;;;;;;;;;;ACA/D,icAAic,6CAA6C,gPAAgP,iDAAiD,2XAA2X,0CAA0C,iRAAiR,qCAAqC,iBAAiB,kSAAkS,0CAA0C,+OAA+O,0DAA0D,0mBAA0mB,iDAAiD,6JAA6J,uKAAuK,wCAAwC,qHAAqH,mBAAmB,qDAAqD,4CAA4C,iGAAiG,qBAAqB,ibAAib,8FAA8F,qCAAqC,wHAAwH,gBAAgB,0CAA0C,uCAAuC,+KAA+K,qCAAqC,8JAA8J,gBAAgB,sFAAsF,6DAA6D,KAAK,guBAAguB,+BAA+B,wKAAwK,6BAA6B,iH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAvoL;AACX;AAEiB;AACzB;AACqB;AAC7B;AACyB;AACA;AACf;AAEI;AACiB;AAEE;AAEA;AACD;AACc;AACpC;AACkB;AAItB;AAEkB;AAQvD;IAuBE,gCACU,eAAgC,EAChC,cAA8B,EAC9B,aAA4B,EAC5B,WAAwB,EACxB,eAAgC,EAChC,WAAwB,EACxB,cAA+B,EAC/B,SAA2B,EAC3B,gBAA2C,EAC3C,MAAc,EACd,OAAe;QAVf,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAkB;QAC3B,qBAAgB,GAAhB,gBAAgB,CAA2B;QAC3C,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAQ;QAhClB,YAAO,GAAqB;YACjC;gBACE,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,CAAC;aACT;SACF,CAAC;QACF,kBAAa,GAAU,IAAI,0DAAO,EAAE,CAAC;QAErC,cAAS,GAAe,EAAE,CAAC;QAE3B,WAAM,GAAY,KAAK,CAAC;QACxB,aAAQ,GAAmB,EAAE,CAAC;QAC9B,cAAS,GAAW,EAAE,CAAC;QACvB,YAAO,GAAW,EAAE,CAAC;QAErB,SAAI,GAAG,IAAI,4DAAQ,EAAE,CAAC;QACtB,kBAAa,GAAQ,EAAE,CAAC;QAuBxB,cAAS,GAAG,EAAE,CAAC;IAFf,CAAC;IAID,yCAAQ,GAAR;QAKE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACxB;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;QAElE,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QAClD,IAAG,IAAI,CAAC,OAAO,EAAC;YACd,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACnC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;IAE9D,CAAC;IAGD,0CAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAED,8CAAa,GAAb;QAAA,iBAYC;QAXC,IAAI,CAAC,cAAc;aAChB,aAAa,EAAE;aACf,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACtB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC,CACF,CAAC;IACN,CAAC;IAKO,gDAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE3B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAOD,+CAAc,GAAd,UAAe,UAAU;QAAzB,iBAgCC;QA9BC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAEtC,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;YACxB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,KAAK,CAAC,SAAS,GAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;YACtC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;YAC9B,KAAK,CAAC,WAAW,GAAG,qBAAqB;YAEzC,IAAI,SAAS,GAAC,IAAI,yEAAa,EAAE,CAAC;YAIlC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CACpD,UAAC,GAAG;gBACF,IAAI,OAAO,GAAG,IAAI,sDAAK,EAAE,CAAC;gBAC1B,OAAO,CAAC,WAAW,GAAG,qBAAqB,CAAC;gBAC5C,OAAO,CAAC,EAAE,GAAG,KAAI,CAAC,OAAO,CAAC;gBAC1B,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;gBAC1E,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAC;oBAC5B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBAEhD,CAAC,CAAC,CAAC;YAEL,CAAC,CACF,CAAC;YAAA,CAAC;SAIJ;IACH,CAAC;IAED,yCAAQ,GAAR,UAAS,IAAI;QACX,IAAI,IAAI,IAAI,kCAAkC,EAAE;YAC9C,kDAAI,CAAC;gBAEH,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,2BAA2B,CAAC;gBAC1D,IAAI,EAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,gCAAgC,CAAC;gBAE7D,IAAI,EAAE,SAAS;gBACf,gBAAgB,EAAE,IAAI;gBACtB,kBAAkB,EAAE,iBAAiB;gBACrC,iBAAiB,EAAE,gBAAgB;gBACnC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC;gBACvD,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC;gBACrD,cAAc,EAAE,KAAK;aACtB,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBACb,IAAI,MAAM,CAAC,KAAK,EAAE;oBAChB,CAAC,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC;iBAC1B;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAGD,6CAAY,GAAZ,UAAa,OAAe;QAE1B,OAAO,IAAI,CAAC,aAAa,IAAE,OAAO,CAAC,MAAM,CAAC;IAC9C,CAAC;IAGC,+CAAc,GAAd,UAAe,QAAiB;QAAhC,iBAgBC;QAbC,IAAI,CAAC,eAAe;aACjB,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;aACnB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEL,KAAI,CAAC,eAAe,EAAE;QAErB,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC,CACF,CAAC;IACN,CAAC;IAED,gDAAe,GAAf;QAAA,iBAqBC;QApBC,IAAI,MAAM,GAAG,IAAI,8EAAc,EAAE,CAAC;QAClC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC;QAC/D,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAE9B,IAAI,CAAC,eAAe;aACjB,cAAc,CAAC,MAAM,CAAC;aACtB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClB,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC;aAEtB;iBAAM;gBACL,qDAAqD;aACtD;QACH,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC,CACF,CAAC;IACN,CAAC;IACD,0CAAS,GAAT;QAGE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAChB,MAAM,EAAE,EAAE;YACV,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;SAC/B,CAAC,CAAC;IAEL,CAAC;IAED,2CAAU,GAAV;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAY,GAAZ,UAAa,CAAS;QACpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAC;IAED,6CAAY,GAAZ;QAAA,iBA2BC;QA1BC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,MAAM,IAAI,EAAE,EAAd,CAAc,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;QACzD,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAE5D,IAAI,CAAC,eAAe;aACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YACF,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE;YAC9B,KAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAI,CAAC,OAAO,GAAG;gBACb;oBACE,MAAM,EAAE,EAAE;oBACV,KAAK,EAAE,CAAC;iBACT;aACF,CAAC;YAEF,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,EACD,UAAC,KAAK;YACJ,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE;QAC9B,CAAC,CACF,CAAC;IACN,CAAC;IAnQU,sBAAsB;QALlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,oIAA8C;;SAE/C,CAAC;yCAyB2B,6EAAe;YAChB,4EAAc;YACf,yEAAa;YACf,qEAAW;YACP,8EAAe;YACnB,qEAAW;YACR,6EAAe;YACpB,qEAAgB;YACT,2FAAyB;YACnC,uDAAM;YACL,oDAAM;OAlCd,sBAAsB,CAqQlC;IAAD,6BAAC;CAAA;AArQkC;;;;;;;;;;;;AClCnC,+DAA+D,+J;;;;;;;;;;;ACA/D,wTAAwT,yCAAyC,GAAG,wBAAwB,uMAAuM,YAAY,0RAA0R,uBAAuB,8UAA8U,qCAAqC,8DAA8D,sBAAsB,2PAA2P,uGAAuG,0DAA0D,iCAAiC,8CAA8C,mBAAmB,6jBAA6jB,qCAAqC,6JAA6J,iVAAiV,uBAAuB,wN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAl1F;AAChC;AACL;AAGH;AAEL;AACJ;AAC0B;AACtB;AACE;AAEiB;AACR;AACM;AACe;AACjB;AACG;AACC;AACR;AACjB;AAIF;AACyB;AAoC9D;IAqBE,4BACU,OAAe,EACf,WAAwB,EACxB,cAA8B,EAC9B,eAAgC,EAChC,aAA4B,EAC5B,WAAwB,EACxB,eAAgC,EAChC,cAA+B,EAC/B,gBAA2C;QATrD,iBAgCC;QA/BS,YAAO,GAAP,OAAO,CAAQ;QACf,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,qBAAgB,GAAhB,gBAAgB,CAA2B;QA5BrD,YAAO,GAAG,IAAI,0DAAO,EAAE,CAAC;QACxB,cAAS,GAAG,IAAI,KAAK,EAAsB,CAAC;QAC5C,YAAO,GAAY,IAAI,0DAAO,EAAE,CAAC;QAEjC,gBAAW,GAAgB,IAAI,kEAAW,EAAE,CAAC;QAC7C,wBAAmB,GAAG,IAAI,KAAK,EAAsB,CAAC;QACtD,aAAQ,GAAG,IAAI,KAAK,EAAO,CAAC;QAC5B,eAAU,GAAsB,IAAI,gFAAiB,EAAE,CAAC;QACxD,WAAM,GAAY,KAAK,CAAC;QACxB,kBAAa,GAAG,IAAI,KAAK,EAAO,CAAC;QACjC,aAAQ,GAAgB,EAAE,CAAC;QAE3B,UAAK,GAAU,IAAI,sDAAK,EAAE,CAAC;QAC3B,aAAQ,GAAa,IAAI,4DAAQ,EAAE,CAAC;QAGpC,YAAO,GAAQ,EAAE,CAAC;QAClB,kBAAa,GAAY,IAAI,0DAAO,EAAE,CAAC;QAgBrC,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YAC5E,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,IAAI,GAAG,oFAAe,CAAC,IAAI,CAAC,CAAC;gBACjC,IAAI,IAAI,CAAC,MAAM,GAAC,CAAC,EAAE;oBACjB,KAAI,CAAC,cAAc;yBAClB,wBAAwB,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC;yBAC9C,IAAI,CAAC,6DAAK,EAAE,CAAC;yBACb,SAAS,CACR,UAAC,IAAI;wBACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACvB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;iBAEH;aACF;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,qCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;IAEnB,CAAC;IAED,gDAAmB,GAAnB,UAAoB,OAAO;QAA3B,iBAsBC;QApBC,IAAI,CAAC,gBAAgB;aAClB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3C,KAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC5C,KAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACxC,KAAI,CAAC,aAAa,EAAE,CAAC;aACtB;QACH,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAED,0CAAa,GAAb;QAAA,iBAWC;QATC,IAAI,CAAC,cAAc;aAClB,wBAAwB,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;aAC9C,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACJ,CAAC;IAEO,4CAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE3B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAED,yCAAY,GAAZ,UAAa,OAAO;QAApB,iBAkBC;QAjBC,IAAI,KAAK,GAAG,IAAI,sDAAK,EAAE,CAAC;QACxB,KAAK,CAAC,EAAE,GAAG,OAAO,CAAC;QACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAExD,IAAI,CAAC,gBAAgB;aAClB,YAAY,CAAC,KAAK,CAAC;aACnB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAExB,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IAET,CAAC;IAED,uCAAU,GAAV,UAAW,OAAY;QAErB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC5B,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACnC,CAAC;IAEO,6CAAgB,GAAxB,UAAyB,QAAQ;QAE7B,IAAI,YAAY,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAE,QAAC,CAAC,cAAc,IAAE,QAAQ,EAA1B,CAA0B,CAAC,CAAC;QACvE,OAAO,YAAY,CAAC;IACtB,CAAC;IAEO,6CAAgB,GAAxB,UAAyB,OAAO;QAAhC,iBAUC;QATC,IAAI,CAAC,eAAe;aACnB,oBAAoB,CAAC,OAAO,CAAC;aAC7B,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACJ,CAAC;IAMD,sCAAS,GAAT;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAID,yCAAY,GAAZ,UAAa,SAAa;QAExB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,IAAI,SAAS,EAAd,CAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,UAAU,IAAI,IAAI,IAAI,UAAU,IAAI,SAAS,EAAE;YAC7C,OAAO,KAAK;SACjB;aACG;YACF,OAAO,IAAI,CAAC;SACb;IAGH,CAAC;IAED,oCAAO,GAAP,UAAQ,OAAY;QAApB,iBA6BC;QA5BC,IAAI,IAAI,GAAG,IAAI,+DAAO,EAAE,CAAC;QACzB,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;QAEpD,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,IAAI,OAAO,CAAC,EAAE,EAAf,CAAe,CAAC,CAAC,CAAC,CAAC,CAAC;QAEpE,IAAI,UAAU,IAAI,IAAI,IAAI,UAAU,IAAI,SAAS,EAAE;YACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SACrC;aACI;YACH,IAAM,KAAK,GAAW,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC7D,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;QAED,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;QAEjC,kCAAkC;QAElC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;YAChD,IAAM,UAAU,GAAG,iDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;YACnE,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACrB,KAAI,CAAC,UAAU,GAAC,GAAG,CAAC;QAEtB,CAAC,CAAC,CAAC;IAEL,CAAC;IAEO,uCAAU,GAAlB,UAAmB,SAAiB;QAApC,iBAWC;QAVC,IAAI,CAAC,cAAc;aAChB,cAAc,CAAC,SAAS,CAAC;aACzB,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEtB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAKO,wCAAW,GAAnB;QAAA,iBAWC;QATC,IAAI,CAAC,cAAc;aAChB,wBAAwB,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;aAC9C,IAAI,CAAC,6DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC,EACD,UAAC,KAAK,IAAO,CAAC,CACf,CAAC;IACN,CAAC;IAlPU,kBAAkB;QAlC9B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,wHAA0C;YAE1C,UAAU,EAAE;gBACV,mEAAO,CAAC,aAAa,EAAE;oBACrB,sEAAU,CAAC,QAAQ,EAAE;wBACnB,iEAAK,CAAC,QAAQ,EAAE,CAAC,mEAAO,CAAC,GAAG,EAAE,CAAC,mEAAO,CAAC,MAAM,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxE,QAAQ,EAAE,IAAI;yBACf,CAAC;wBACF,iEAAK,CACH,QAAQ,EACR;4BACE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;4BACrB,mEAAO,CAAC,GAAG,EAAE,CAAC,mEAAO,CAAC,MAAM,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;yBACvD,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB;qBACF,CAAC;iBAEH,CAAC;gBAEF,mEAAO,CAAC,MAAM,EAAE;oBACd,sEAAU,CAAC,QAAQ,EAAE;wBACnB,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;wBACrB,mEAAO,CAAC,IAAI,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;qBACrC,CAAC;oBACF,sEAAU,CAAC,WAAW,EAAE;wBACtB,mEAAO,CAAC,IAAI,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;qBACrC,CAAC;iBACH,CAAC;aAEH;;SACF,CAAC;yCAuBmB,oDAAM;YACF,sEAAW;YACR,4EAAc;YACb,6EAAe;YACjB,0EAAa;YACf,sEAAW;YACP,8EAAe;YAChB,6EAAe;YACb,2FAAyB;OA9B1C,kBAAkB,CAwP9B;IAAD,yBAAC;CAAA;AAxP8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9D0B;AACuB;AAKzB;AACL;AACJ;AAK9C;IAWI,yBAAoB,WAAwB,EAAU,aAA4B;QAA9D,gBAAW,GAAX,WAAW,CAAa;QAAU,kBAAa,GAAb,aAAa,CAAe;QATlF,0BAAqB,GAAG,IAAI,0DAAY,EAAW,CAAC;QACpD,yBAAoB,GAAG,IAAI,0DAAY,EAAS,CAAC;QACjD,iBAAY,GAAG,IAAI,0DAAY,EAAoB,CAAC;QACpD,oBAAe,GAAG,IAAI,0DAAY,EAAW,CAAC;QAGtC,4BAAuB,GAAG,KAAK,CAAC;QAIpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAE9B,CAAC;IAEO,0CAAgB,GAAxB;QAGI,IAAI,CAAC,cAAc,GAAG,IAAI,oEAAoB,EAAE;aAC3C,OAAO,CAAC,oEAAW,CAAC,aAAa,GAAG,WAAW,CAAC;aAChD,gBAAgB,CAAC,wDAAQ,CAAC,WAAW,CAAC;aACtC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEa,yCAAe,GAA7B;;;;;4BACI,qBAAM,IAAI,CAAC,cAAc;6BACpB,KAAK,EAAE;6BACP,IAAI,CAAC;4BACF,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;4BACpC,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC1C,CAAC,CAAC;6BACD,KAAK,CAAC,UAAC,GAAG;4BACP,OAAO,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAC;4BAChE,UAAU,CAAC;gCACP,KAAI,CAAC,eAAe,EAAE,CAAC;4BAC3B,CAAC,EAAE,IAAI,CAAC,CAAC;wBACb,CAAC,CAAC;;wBAXN,SAWM,CAAC;;;;;KAGV;IAGD,yCAAe,GAAf,UAAgB,IAAW;QAA3B,iBAEC;QADG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,aAAG,IAAI,YAAI,CAAC,eAAe,EAAE,EAAtB,CAAsB,CAAC,CAAC;IAC7F,CAAC;IAEO,yCAAe,GAAvB;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,sBAAsB,EAAE,UAAC,IAAS;YACrD,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,4CAAkB,GAAlB,UAAmB,IAAgB;QAAnC,iBAGC;QADG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,aAAG,IAAI,YAAI,CAAC,eAAe,EAAE,EAAtB,CAAsB,CAAC,CAAC;IAChG,CAAC;IAEO,4CAAkB,GAA1B;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,4BAA4B,EAAE,UAAC,IAAS;YAC3D,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAlEQ,eAAe;QAD3B,gEAAU,EAAE;yCAYwB,yDAAW,EAAyB,6DAAa;OAXzE,eAAe,CAuE3B;IAAD,sBAAC;CAAA;AAvE2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb6B;AACuB;AAGzB;AACL;AACJ;AAK9C;IASI,wBAAoB,WAAwB,EAAU,aAA4B;QAA9D,gBAAW,GAAX,WAAW,CAAa;QAAU,kBAAa,GAAb,aAAa,CAAe;QAPlF,0BAAqB,GAAG,IAAI,0DAAY,EAAW,CAAC;QAEpD,iBAAY,GAAG,IAAI,0DAAY,EAAoB,CAAC;QAE5C,4BAAuB,GAAG,KAAK,CAAC;QAIpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,EAAE,CAAC;QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;IAExD,CAAC;IAEO,yCAAgB,GAAxB;QAGI,IAAI,CAAC,cAAc,GAAG,IAAI,oEAAoB,EAAE;aAC3C,OAAO,CAAC,oEAAW,CAAC,aAAa,GAAG,UAAU,CAAC;aAC/C,gBAAgB,CAAC,wDAAQ,CAAC,KAAK,CAAC;aAChC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEa,wCAAe,GAA7B;;;;;4BACI,qBAAM,IAAI,CAAC,cAAc;6BACpB,KAAK,EAAE;6BACP,IAAI,CAAC;4BACF,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;4BACpC,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC1C,CAAC,CAAC;6BACD,KAAK,CAAC,UAAC,GAAG;4BACP,OAAO,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAC;4BAChE,UAAU,CAAC;gCACP,KAAI,CAAC,eAAe,EAAE,CAAC;4BAC3B,CAAC,EAAE,IAAI,CAAC,CAAC;wBACb,CAAC,CAAC;;wBAXN,SAWM,CAAC;;;;;KAGV;IAMD,yCAAgB,GAAhB,UAAiB,KAAK;QAAtB,iBAEC;QADG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,aAAG,IAAI,YAAI,CAAC,eAAe,EAAE,EAAtB,CAAsB,CAAC,CAAC;IAC3F,CAAC;IAEO,sCAAa,GAArB;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,cAAc,EAAE,UAAC,IAAS;YAC7C,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACP,CAAC;IArDQ,cAAc;QAD1B,gEAAU,EAAE;yCAUwB,yDAAW,EAAyB,6DAAa;OATzE,cAAc,CAwD1B;IAAD,qBAAC;CAAA;AAxD0B;;;;;;;;;;;;ACX3B,+DAA+D,2K;;;;;;;;;;;ACA/D,+KAA+K,8BAA8B,uDAAuD,oCAAoC,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA9O;AAIb;AACwB;AACQ;AACjB;AACG;AACP;AACjB;AAOvC;IAKE,gCACU,cAA+B,EAC/B,WAAwB,EACxB,yBAAoD,EACpD,eAAgC,EAChC,aAA2B,EAC3B,OAAe;QALf,mBAAc,GAAd,cAAc,CAAiB;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,8BAAyB,GAAzB,yBAAyB,CAA2B;QACpD,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAc;QAC3B,YAAO,GAAP,OAAO,CAAQ;QATzB,kBAAa,GAAU,IAAI,0DAAO,EAAE,CAAC;QACrC,YAAO,GAAQ,EAAE,CAAC;IAWlB,CAAC;IAGD,yCAAQ,GAAR;QAEE,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QAElD,IAAG,IAAI,CAAC,OAAO,EAAC;YACd,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;IACH,CAAC;IAID,oDAAmB,GAAnB,UAAoB,OAAc;QAAlC,iBAiBC;QAfC,IAAI,CAAC,yBAAyB;aAC3B,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YAGxB,IAAI,KAAI,CAAC,YAAY;gBACnB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IAGO,gDAAe,GAAvB,UAAwB,OAAO;QAA/B,iBAaC;QAZC,IAAI,CAAC,cAAc;aAChB,eAAe,CAAC,OAAO,CAAC;aACxB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CACR,UAAC,GAAG;YAEF,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAE3B,CAAC,EACD,UAAC,KAAK;QAEN,CAAC,CAAC,CAAC;IACT,CAAC;IA7DU,sBAAsB;QALlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,qIAA8C;;SAE/C,CAAC;yCAO0B,4EAAe;YAClB,qEAAW;YACG,0FAAyB;YACnC,kFAAe;YAClB,yEAAa;YAClB,oDAAM;OAXd,sBAAsB,CAgElC;IAAD,6BAAC;CAAA;AAhEkC;;;;;;;;;;;;ACjBnC,+DAA+D,+J;;;;;;;;;;;ACA/D,mWAAmW,yCAAyC,0OAA0O,4CAA4C,sPAAsP,4CAA4C,uPAAuP,uCAAuC,gOAAgO,oCAAoC,8NAA8N,iCAAiC,qPAAqP,mCAAmC,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAh8D;AACpB;AACe;AAEnB;AACyB;AAErB;AACkB;AAQ3D;IAcE,4BACU,MAAc,EACd,WAAwB;QAFlC,iBAmDC;QAlDS,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QAblC,eAAU,GAAW,EAAE,CAAC;QACxB,cAAS,GAAW,CAAC,CAAC;QACtB,YAAO,GAAW,EAAE,CAAC;QAanB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,gDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,IAAS;YAE5H,IAAI,IAAI,GAAG,mFAAe,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnB,IAAI,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBACtC,IAAI,iBAAiB,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC/C,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,KAAI,CAAC,OAAO,EAAE;oBAC9B,IAAI,iBAAiB,CAAC,MAAM,IAAI,CAAC,EAAE;wBACjC,IAAM,WAAW,GAAG,QAAQ,CAAC,gBAAgB,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1E,IAAM,OAAO,GAAG,WAAW,CAAC,CAAC,CAAgB,CAAC;wBAE9C,IAAI,OAAO,IAAI,SAAS;4BACtB,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;qBAClD;oBAID,IAAI,WAAW,IAAI,iBAAiB,EAAE;wBAEpC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;qBACpC;yBACI;wBAEH,IAAI,KAAI,CAAC,QAAQ,EAAE,EAAE;4BACnB,gDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,CAAC;4BAG1D,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;yBAGxC;6BACI;4BACH,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;4BAC1B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC;yBAC1C;qBAMF;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IAGL,CAAC;IA3DD,4CAAe,GAAf;QACE,IAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;QAChC,IAAI,KAAK,IAAI,GAAG;YACd,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,UAAU,IAAI,GAAG,CAAC;IAGxD,CAAC;IAuDD,qCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAGlC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;QACpD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;SACtC;IACH,CAAC;IAED,qCAAQ,GAAR,UAAS,UAAU;QACjB,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC;IACvC,CAAC;IAED,qCAAQ,GAAR;QACE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC;IAC3C,CAAC;IAKD,qCAAQ,GAAR,UAAS,GAAW,EAAE,MAAa;QAAb,sCAAa;QAEjC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,SAAS,GAAG,IAAI,wEAAa,EAAE,CAAC;QACpC,IAAI,OAAO,GAAG,IAAI,sDAAK,EAAE,CAAC;QAC1B,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;QACtC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAE1B,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YACnB,IAAM,UAAU,GAAG,gDAAgB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1E,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAExB,IAAI,iBAAiB,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,iBAAiB,CAAC,MAAM,IAAI,CAAC,EAAE;gBACjC,IAAM,WAAW,GAAG,QAAQ,CAAC,gBAAgB,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1E,IAAM,OAAO,GAAG,WAAW,CAAC,CAAC,CAAgB,CAAC;gBAC9C,IAAI,OAAO,IAAI,SAAS;oBACtB,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;aAClD;YAED,IAAI,kBAAkB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACzC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAGpB;aACF;YAED,IAAI,mBAAmB,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC1C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAEpB;aACF;YAED,IAAI,qBAAqB,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC5C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAEpB;aACF;YAED,IAAI,kBAAkB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACzC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAGpB;aACF;YACD,IAAI,qBAAqB,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC5C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAEpB;aAGF;YACD,IAAI,eAAe,IAAI,IAAI,CAAC,UAAU,EAAE;gBACtC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAEpB;aACF;YACD,IAAI,iBAAiB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACxC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBACtC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAEpB;aAEF;YAED,IAAI,MAAM;gBACR,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1C;IAMH,CAAC;IArK4B;QAA5B,+DAAS,CAAC,gBAAgB,CAAC;;8DAAgB;IAFjC,kBAAkB;QAL9B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,yHAA0C;;SAE3C,CAAC;yCAgBkB,sDAAM;YACD,qEAAW;OAhBvB,kBAAkB,CAyK9B;IAAD,yBAAC;CAAA;AAzK8B","file":"pages-pages-module.js","sourcesContent":["import { GroupFilter } from \"./group-filter\";\r\n\r\nexport class RetroReset{\r\n    filter:GroupFilter=new GroupFilter();\r\n    users:Array<string>=[];\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { PagesRoutes } from './pages.routing';\r\nimport { RetroStartComponent } from './retro-start/retro-start.component';\r\nimport { RetroSubjectComponent } from './retro-subject/retro-subject.component';\r\nimport { RetroTemplateComponent } from './retro-template/retro-template.component';\r\nimport { RetroBrainstormComponent } from './retro-brainstorm/retro-brainstorm.component';\r\nimport { RetroCommentComponent } from './retro-comment/retro-comment.component';\r\nimport { RetroCategorizeComponent } from './retro-categorize/retro-categorize.component';\r\nimport { RetroVoteComponent } from './retro-vote/retro-vote.component';\r\nimport { RetroReportComponent } from './retro-report/retro-report.component';\r\nimport { SubjectHeaderComponent } from 'app/shared/subject-header/subject-header.component';\r\nimport { TabHeaderComponent } from 'app/shared/tab-header/tab-header.component';\r\nimport { CompanyService } from 'app/services/company.service';\r\nimport { TemplateDetailService } from 'app/services/template-detail.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TemplateService } from 'app/services/template.service';\r\nimport { SubjectsService } from 'app/services/subject.service';\r\nimport { SharedService } from 'app/services/shared.service';\r\nimport { CommentService } from 'app/services/comment.service';\r\nimport { CategoryService } from 'app/services/category.service';\r\nimport { RetroHubService } from 'app/services/hub/retro-hub.service';\r\nimport { UserHubService } from 'app/services/hub/user-hub.service';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { HttpLoaderFactory } from 'app/app.module';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(PagesRoutes),\r\n        FormsModule,\r\n        FormsModule,\r\n        TranslateModule.forChild({\r\n            loader: {\r\n                provide: TranslateLoader,\r\n                useFactory: HttpLoaderFactory,\r\n                deps: [HttpClient]\r\n            }\r\n          })\r\n    ],\r\n    declarations: [\r\n   \r\n    RetroStartComponent,\r\n   \r\n    RetroSubjectComponent,\r\n   \r\n    RetroTemplateComponent,\r\n   \r\n    RetroBrainstormComponent,\r\n   \r\n    RetroCommentComponent,\r\n   \r\n    RetroCategorizeComponent,\r\n    RetroVoteComponent,\r\n    RetroReportComponent,\r\n    SubjectHeaderComponent,\r\n    TabHeaderComponent,\r\n],\r\nproviders:[\r\n    HttpClient,\r\n    TemplateService,\r\n    SubjectsService,\r\n    CommentService,\r\n    SharedService,\r\n    CategoryService,\r\n    TemplateDetailService,\r\n    CompanyService,\r\n    \r\n    RetroHubService,\r\n    UserHubService\r\n]\r\n})\r\n\r\nexport class PagesModule {}\r\n","import { Routes } from '@angular/router';\r\nimport { RetroBrainstormComponent } from './retro-brainstorm/retro-brainstorm.component';\r\nimport { RetroCategorizeComponent } from './retro-categorize/retro-categorize.component';\r\nimport { RetroCommentComponent } from './retro-comment/retro-comment.component';\r\nimport { RetroReportComponent } from './retro-report/retro-report.component';\r\n\r\n\r\nimport { RetroStartComponent } from './retro-start/retro-start.component';\r\nimport { RetroSubjectComponent } from './retro-subject/retro-subject.component';\r\nimport { RetroTemplateComponent } from './retro-template/retro-template.component';\r\nimport { RetroVoteComponent } from './retro-vote/retro-vote.component';\r\n\r\nexport const PagesRoutes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: 'start',\r\n            component: RetroStartComponent\r\n        },\r\n        {\r\n            path: 'subject',\r\n            component: RetroSubjectComponent\r\n        },\r\n        {\r\n            path: 'template',\r\n            component: RetroTemplateComponent\r\n        },\r\n        {\r\n            path: 'brainstorm',\r\n            component: RetroBrainstormComponent\r\n        },\r\n        {\r\n            path: 'categorize',\r\n            component: RetroCategorizeComponent\r\n        },\r\n        {\r\n            path: 'comment',\r\n            component: RetroCommentComponent\r\n        },\r\n        {\r\n            path: 'vote',\r\n            component: RetroVoteComponent\r\n        },\r\n        {\r\n            path: 'report',\r\n            component: RetroReportComponent\r\n        }\r\n    ]\r\n}];\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLWJyYWluc3Rvcm0vcmV0cm8tYnJhaW5zdG9ybS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n<app-subject-header></app-subject-header>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<div class=\\\"d-flex justify-content-end\\\" *ngIf=\\\"retroRight != null\\\">\\r\\n  <span class=\\\"pill-title text-bold\\\" [ngClass]=\\\"retroRight.ideaRight > 0 ? 'text-success' : 'text-danger'\\\">\\r\\n    {{ 'retro_brainstrom.number_of_idea_Rights' | translate }} : {{retroRight.ideaRight}} </span>\\r\\n</div>\\r\\n<div #divView>\\r\\n\\r\\n</div>\\r\\n<div class=\\\"row mt-5\\\">\\r\\n  <div class=\\\"mobile-brainstorm\\\"\\r\\n    [ngClass]=\\\"{'col-xl-2':template.templateDetail.length>6, 'col':template.templateDetail.length<=6}\\\"\\r\\n\\r\\n    *ngFor=\\\"let detail of template.templateDetail; let i = index\\\">\\r\\n\\r\\n    <h5 class=\\\"mt-2\\\" *ngIf=\\\"\\r\\n      template.templateDetail.length >= 1 &&\\r\\n      template.templateDetail[0].header != ''\\r\\n    \\\"> {{ detail.header }}</h5>\\r\\n    <div class=\\\"card card-theme card-theme--warning card-custom-borderless\\\">\\r\\n      <div class=\\\"card-body p-0\\\">\\r\\n        <div class=\\\"form-group mb-0\\\">\\r\\n          <textarea [disabled]=\\\"retroRight.ideaRight <= 0 \\\" style=\\\"height: auto !important;resize: none;border:none;\\\"\\r\\n            rows=\\\"3\\\" class=\\\"form-control  card-theme--warning scroll\\\" [(ngModel)]=\\\"inputText[detail.id]\\\"\\r\\n            (keydown.enter)=\\\"sendMessage(detail.id)\\\"></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div *ngFor=\\\"let msg of messages\\\">\\r\\n      <div >\\r\\n\\r\\n\\r\\n        <div class=\\\"card card-theme box-shadow-sm mt-3 \\\" *ngIf=\\\"msg.clientuniqueid == detail.id\\\">\\r\\n          <div class=\\\"card-description\\\">\\r\\n            {{ msg.messageText }}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</div>\"","import { Component, ElementRef, NgZone, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ChatService } from \"../../services/chat.service\";\r\nimport { Message } from \"../../models/message\";\r\nimport { MessageService } from \"../../services/message.service\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { Template } from \"app/models/template\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { NavigationStart, Router } from \"@angular/router\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport { animate, query, stagger, state, style, transition, trigger } from \"@angular/animations\";\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\ndeclare var $: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-retro-brainstorm',\r\n  templateUrl: './retro-brainstorm.component.html',\r\n  styleUrls: ['./retro-brainstorm.component.css'],\r\n  animations: [\r\n\r\n    trigger('slideDownUp', [\r\n      transition(\"* => *\",\r\n        [\r\n          query(\":leave\", [stagger(500, [animate(\"0.5s\", style({ opacity: 0 }))])], {\r\n            optional: true\r\n          }),\r\n          query(\r\n            \":enter\",\r\n            [\r\n              style({ opacity: 0 }),\r\n              stagger(500, [animate(\"0.5s\", style({ opacity: 1 }))])\r\n            ],\r\n            { optional: true }\r\n          )\r\n        ])\r\n\r\n    ]),\r\n\r\n  ]\r\n})\r\nexport class RetroBrainstormComponent implements OnInit {\r\n\r\n  title = \"ClientApp\";\r\n  txtMessage = \"\";\r\n  uniqueID: string = new Date().getTime().toString();\r\n  messages = new Array<Message>();\r\n  message = new Message();\r\n  inputText = {};\r\n  selectedSubject: Subject;\r\n  template = new Template();\r\n  isUser: boolean = false;\r\n  templateId: string;\r\n  @ViewChild(\"myDiv\") divView: ElementRef;\r\n  subscription: Subscription\r\n  retroRight: UserRight = new UserRight();\r\n\r\n  currentRetro: Retro;\r\n  retroId: string = '';\r\n\r\n  isDisabled:boolean=false;\r\n\r\n  constructor(\r\n    private chatService: ChatService,\r\n    private _ngZone: NgZone,\r\n    private retroService: RetroConfigurationService,\r\n    private messageService: MessageService,\r\n    private authService: UserService,\r\n    private alertifyService: AlertifyService,\r\n    private templateService: TemplateService,\r\n    private sharedService: SharedService,\r\n    private router: Router,\r\n    private subjectService: SubjectsService,\r\n    private configureService: RetroConfigurationService,\r\n  ) {\r\n\r\n\r\n    firebase.default.database().ref('messages/').on('value', (resp: any) => {\r\n      if (this.currentRetro) {\r\n        var data = snapshotToArray(resp);\r\n        const messages = data.find(x => x.retroId === this.currentRetro.id);\r\n        if (messages !== undefined) {\r\n          this.messages = messages;\r\n          // this.sortedlist();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.existUser();\r\n\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    if (this.retroId) {\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n  }\r\n\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n\r\n\r\n  getLastCurrentRetro(retroId) {\r\n\r\n    this.configureService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n\r\n\r\n          if (this.currentRetro) {\r\n\r\n            this.getRetroSubject(this.currentRetro.id);\r\n            this.getTemplate(this.currentRetro.templateId);\r\n            this.getUserRight(this.currentRetro.id);\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n  getFirebaseMessage() {\r\n\r\n    firebase.default.database().ref('messages/').on('value', (resp: any) => {\r\n\r\n      var data = snapshotToArray(resp);\r\n      let messages = data.filter(x => x.retroId === this.currentRetro.id);\r\n\r\n      if (messages !== undefined) {\r\n        this.messages = messages.reverse();\r\n\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  getUserRight(retroId) {\r\n    let retro = new Retro();\r\n    retro.id = retroId;\r\n    retro.userId = this.authService.currentUserValue.userId;\r\n\r\n    this.configureService\r\n      .getUserRight(retro)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.retroRight = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n\r\n  }\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectedSubject = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  getTemplate(templateId: any) {\r\n\r\n    this.templateService\r\n      .getTemplate(templateId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.template = data;\r\n          this.getFirebaseMessage();\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n  filterTrim(x) {\r\n    return x.replace(/^\\s+|\\s+$/gm, \"\");\r\n  }\r\n\r\n\r\n\r\n  sendMessage(headerId: string): void {\r\n    const msg = this.inputText[headerId];\r\n    \r\n    if (this.filterTrim(msg) !== \"\") {\r\n\r\n      let currentUser = this.authService.currentUserValue;\r\n\r\n\r\n      this.message = new Message();\r\n      this.message.userId = currentUser.userId;\r\n      this.message.clientuniqueid = headerId;\r\n      this.message.type = \"sent\";\r\n      this.message.messageText = msg;\r\n      this.message.subjectId = this.selectedSubject.id;\r\n      this.message.date = new Date();\r\n      this.message.isCategorized = false;\r\n      this.message.retroId = this.currentRetro.id;\r\n\r\n      this.configureService.newMessage(this.message).subscribe((res) => {\r\n        this.retroRight = res;\r\n        this.inputText[headerId] = \"\";\r\n        const newMessage = firebase.default.database().ref('messages/').push();\r\n        newMessage.set(this.message);\r\n      });\r\n\r\n\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n  sortedlist() {\r\n    this.messages.sort(function (a, b) {\r\n      return new Date(b.date).getTime() - new Date(a.date).getTime();\r\n    });\r\n  }\r\n\r\n\r\n  // private getMessage() {\r\n\r\n  //   this.messageService\r\n  //     .getAllMessage(this.currentRetro.id)\r\n  //     .pipe(first())\r\n  //     .subscribe(\r\n  //       (data) => {\r\n  //         this.messages = data;\r\n\r\n  //         this.sortedlist();\r\n  //       },\r\n  //       (error) => { }\r\n  //     );\r\n  // }\r\n\r\n\r\n}\r\n","module.exports = \".modal-body {\\r\\n    padding: 20px 10px;\\r\\n  }\\r\\n\\r\\n  .checkbox {\\r\\n    margin-right: 20px;\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n\\r\\n  .messaje-list-title {\\r\\n    font-weight: bold;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n\\r\\n  .message-list {\\r\\n    margin: 10px 10px 10px 10px;\\r\\n  }\\r\\n\\r\\n  .categorized-title {\\r\\n    font-weight: bold;\\r\\n    font-size: 16px;\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmV0cm8tY2F0ZWdvcml6ZS9yZXRyby1jYXRlZ29yaXplLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLGVBQWU7RUFDakI7O0VBRUE7SUFDRSwyQkFBMkI7RUFDN0I7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsZUFBZTtJQUNmLG1CQUFtQjtFQUNyQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLWNhdGVnb3JpemUvcmV0cm8tY2F0ZWdvcml6ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsLWJvZHkge1xyXG4gICAgcGFkZGluZzogMjBweCAxMHB4O1xyXG4gIH1cclxuXHJcbiAgLmNoZWNrYm94IHtcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG5cclxuICAubWVzc2FqZS1saXN0LXRpdGxlIHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLm1lc3NhZ2UtbGlzdCB7XHJcbiAgICBtYXJnaW46IDEwcHggMTBweCAxMHB4IDEwcHg7XHJcbiAgfVxyXG5cclxuICAuY2F0ZWdvcml6ZWQtdGl0bGUge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH0iXX0= */\"","module.exports = \"  <app-tab-header></app-tab-header>\\r\\n<app-subject-header></app-subject-header>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-end mt-3\\\">\\r\\n    <button *ngIf=\\\"!isUser\\\" (click)=\\\"selectMessage()\\\" class=\\\"btn btn-theme btn-vertical-padding btn-horizontal-padding\\\">{{ 'retro_categorize.categorize' | translate }}\\r\\n    </button>\\r\\n    \\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <div class=\\\"categories mt-5\\\">\\r\\n    <div class=\\\"category\\\" *ngFor=\\\"let tmp of template.templateDetail\\\" >\\r\\n      <h5   *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">{{tmp.header}}</h5>\\r\\n      <div class=\\\"card card-theme box-shadow-sm border-radius-lg mb-3\\\" *ngFor=\\\"let msg of GetHeaderMessage(tmp.id)\\\">\\r\\n        <div class=\\\"card-body p-2\\\" [ngClass]=\\\"{'disabled': isUser }\\\">\\r\\n  \\r\\n          <label class=\\\"checkbox-theme\\\">\\r\\n  \\r\\n  \\r\\n            <span class=\\\"checkbox-theme__pseudo-control\\\"></span>\\r\\n            <input *ngIf=\\\"!isUser\\\" [(ngModel)]=\\\"msg.isCategorized\\\" class=\\\"checkbox-theme__control\\\" type=\\\"checkbox\\\">\\r\\n            <span>\\r\\n              <i *ngIf=\\\"!isUser\\\" class=\\\"fa fa-check\\\"></i>\\r\\n              <span> {{ msg.messageText }} </span>\\r\\n            </span>\\r\\n  \\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n    </div>\\r\\n  \\r\\n  </div>\\r\\n\\r\\n  \\r\\n  \\r\\n  <div class=\\\"modal fade\\\" id=\\\"categoryModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <form #templateForm=\\\"ngForm\\\" (ngSubmit)=\\\"saveCategorized()\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">{{'common.categorize' | translate}}</h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n              <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n            \\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"categorized-title\\\">{{ 'retro_categorize.enter_title' | translate }}</label>\\r\\n                <input style=\\\"max-height: max-content\\\" rows=\\\"10\\\" class=\\\"form-control textarea\\\"\\r\\n                  [(ngModel)]=\\\"categorized.title\\\" [ngModelOptions]=\\\"{ standalone: true }\\\" />\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n\\r\\n               \\r\\n                  <div *ngFor=\\\"let slct of selectedMessages\\\" class=\\\"mt-2\\\">\\r\\n                 \\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"col-md-12\\\">\\r\\n                        <div class=\\\"card\\\">\\r\\n                          <div class=\\\"card-header\\\">\\r\\n                            {{ slct.messageText }}\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  \\r\\n                  </div>\\r\\n               \\r\\n              </div>\\r\\n            \\r\\n          </div>\\r\\n          <div class=\\\"modal-footer d-flex align-items-center\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-outline-theme btn-block btn-vertical-padding\\\"\\r\\n              data-dismiss=\\\"modal\\\">{{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"saveCategorized()\\\" class=\\\"btn btn-theme btn-block mt-0 btn-vertical-padding justify-content-center\\\">\\r\\n              {{ 'retro_categorize.create' | translate }}\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \\r\\n  \"","import { animate, query, stagger, style, transition, trigger } from \"@angular/animations\";\r\nimport { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { Categorized } from \"app/models/categorized\";\r\nimport { Category } from \"app/models/category\";\r\nimport { CategorizedMessage } from \"app/models/dto/categorized-message\";\r\n\r\nimport { Message } from \"app/models/message\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { Template } from \"app/models/template\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport { CategoryService } from \"app/services/category.service\";\r\nimport { MessageService } from \"app/services/message.service\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { first } from \"rxjs/operators\";\r\n\r\nimport * as firebase from 'firebase';\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n\r\ndeclare var $: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-retro-categorize',\r\n  templateUrl: './retro-categorize.component.html',\r\n  styleUrls: ['./retro-categorize.component.css'],\r\n  animations: [\r\n    trigger('slideDownUp', [\r\n      transition(\"* => *\", [\r\n        query(\":leave\", [stagger(500, [animate(\"0.5s\", style({ opacity: 0 }))])], {\r\n          optional: true\r\n        }),\r\n        query(\r\n          \":enter\",\r\n          [\r\n            style({ opacity: 0 }),\r\n            stagger(500, [animate(\"0.5s\", style({ opacity: 1 }))])\r\n          ],\r\n          { optional: true }\r\n        )\r\n      ])\r\n\r\n    ]),\r\n\r\n  ]\r\n})\r\nexport class RetroCategorizeComponent implements OnInit {\r\n\r\n  messages = new Array<Message>();\r\n  categorys = new Array<CategorizedMessage>();\r\n  subject: Subject = new Subject();\r\n  selectedMessages1 = new Array<Categorized>();\r\n  selectedMessages = new Array<Message>();\r\n  isUser: boolean = false;\r\n\r\n  categorized: Categorized = new Categorized();\r\n  categorizedMessages = new Array<CategorizedMessage>();\r\n\r\n  template: Template = new Template();\r\n  currentRetro: Retro;\r\n  selectSubject: Subject = new Subject();\r\n  retroId:string='';\r\n\r\n  constructor(\r\n    private messageService: MessageService,\r\n    private templateService: TemplateService,\r\n    private categoryService: CategoryService,\r\n    private alertiftyService: AlertifyService,\r\n    private authService: UserService,\r\n    private subjectService: SubjectsService,\r\n    private translate:TranslateService,\r\n    private configureService: RetroConfigurationService,\r\n\r\n\r\n  ) {\r\n\r\n\r\n    // this.subscribeToCurrentRetroEvents();\r\n    // this.subscribeCategorizedMessagesRetroEvents();\r\n\r\n\r\n    firebase.default.database().ref('categorize/').on('value', (resp: any) => {\r\n      if (this.currentRetro) {\r\n        this.getMessage(this.currentRetro.id);\r\n        this.getCategory(this.currentRetro.id);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    if (this.retroId) {\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n\r\n    this.existUser();\r\n  }\r\n\r\n\r\n  getLastCurrentRetro(retroId) {\r\n\r\n    this.configureService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n\r\n\r\n          if (this.currentRetro) {\r\n            this.getRetroSubject(this.currentRetro.id);\r\n            this.getRetroTemplate(this.currentRetro.templateId);\r\n            this.getMessage(this.currentRetro.id);\r\n            this.getCategory(this.currentRetro.id);\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectSubject = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n  private GetHeaderMessage(headerId) {\r\n\r\n    let filteredData = this.messages.filter(p => p.clientuniqueid == headerId);\r\n    return filteredData;\r\n  }\r\n\r\n  private getRetroTemplate(templateId) {\r\n    this.templateService\r\n      .getTemplate(templateId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.template = data;\r\n          this.sortedlist();\r\n        },\r\n        (error) => {\r\n          this.alertiftyService.error();\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n  private getMessage(retroId) {\r\n\r\n    this.messageService\r\n      .getAllNonCategoryMessage(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.messages = data;\r\n          this.sortedlist();\r\n        },\r\n        (error) => {\r\n          this.alertiftyService.error();\r\n\r\n        }\r\n      );\r\n  }\r\n\r\n  private getCategory(retroId) {\r\n    this.messageService\r\n      .getAllCategoryMessage(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n\r\n          this.categorizedMessages = data;\r\n        },\r\n        (error) => {\r\n          this.alertiftyService.error();\r\n\r\n        }\r\n      );\r\n  }\r\n\r\n  sortedlist() {\r\n    this.messages.sort(function (a, b) {\r\n      return new Date(b.date).getTime() - new Date(a.date).getTime();\r\n    });\r\n  }\r\n\r\n  deleteCategory(item) {\r\n    this.categoryService\r\n      .deleteCategoryMessage(item)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n\r\n          let retro = new Retro();\r\n          retro.id = this.currentRetro.id;\r\n          retro.state = 2;\r\n          retro.templateId = this.currentRetro.templateId;\r\n          this.configureService.setCurrentRetro(retro);\r\n          // this.configureService.getCategorizedMessage();     \r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n  selectMessage() {\r\n    this.selectedMessages = [];\r\n\r\n\r\n\r\n    this.messages.filter((p) => {\r\n\r\n      if (p.isCategorized) {\r\n        this.selectedMessages.push(p);\r\n      }\r\n    });\r\n\r\n\r\n\r\n\r\n    let isCheck = this.selectedMessages.filter(p => p.clientuniqueid != this.selectedMessages[0].clientuniqueid);\r\n    if (isCheck.length > 0) {\r\n      this.alertiftyService.warning(this.translate.instant(\"common.category_validation\"))\r\n\r\n    }\r\n    else {\r\n\r\n      if (this.selectedMessages.length == 0)\r\n        this.alertiftyService.warning(this.translate.instant(\"common.select_category\"))\r\n      else\r\n        $('#categoryModal').modal(\"show\");\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  saveCategorized() {\r\n\r\n    let categoryMessage = new CategorizedMessage();\r\n    let category = new Category();\r\n    category.categoryTitle = this.categorized.title;\r\n\r\n    categoryMessage.category = category;\r\n    categoryMessage.messages = this.selectedMessages;\r\n\r\n    this.categoryService\r\n      .createCategoryMessage(categoryMessage)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n\r\n          $(\"#categoryModal\").modal(\"hide\");\r\n\r\n          // this.chatService.getCategorizedMessage();\r\n          // const newMessage = firebase.default.database().ref('categorized-message/').push();\r\n          // newMessage.set(this.message);\r\n\r\n          let currentUser = this.authService.currentUserValue;\r\n\r\n\r\n          let message = new Message();\r\n          message.userId = currentUser.userId;\r\n          message.clientuniqueid = this.selectedMessages[0].clientuniqueid;\r\n          message.type = \"category\";\r\n          message.messageText = this.categorized.title;\r\n          message.subjectId = this.selectedMessages[0].subjectId;\r\n          message.date = new Date();\r\n          message.isCategorized = false;\r\n          message.retroId = this.selectedMessages[0].retroId;\r\n\r\n          this.configureService.newMessage(message).subscribe((res) => {\r\n            const newMessage = firebase.default.database().ref('categorize/').push();\r\n            const categorize = firebase.default.database().ref('message/').push();\r\n            newMessage.set(message);\r\n            categorize.set(message);\r\n\r\n\r\n            this.selectedMessages = [];\r\n            this.categorized.title = \"\";\r\n\r\n\r\n          });\r\n\r\n\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLWNvbW1lbnQvcmV0cm8tY29tbWVudC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n<app-subject-header></app-subject-header>\\r\\n\\r\\n\\r\\n<div class=\\\"d-flex justify-content-end mt-3\\\">\\r\\n    <span class=\\\"pill-title text-bold\\\" *ngIf=\\\"retroRight != null\\\" [ngClass]=\\\"\\r\\n    retroRight.commentRight > 0 ? 'text-success' : 'text-danger'\\r\\n  \\\">{{'common.comment_right' | translate}}: {{ retroRight.commentRight }}</span>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"categories mt-5\\\">\\r\\n    <div class=\\\"category\\\" *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n      <h5 *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">{{tmp.header}}</h5>\\r\\n      <div *ngFor=\\\"let msg of GetHeaderMessage(tmp.id)\\\" class=\\\"mt-3\\\">\\r\\n        <div class=\\\"card card-theme box-shadow-sm border-radius-lg\\\">\\r\\n          <div class=\\\"card-body p-2 d-flex justify-content-between align-items-start\\\">\\r\\n            <div class=\\\"content\\\">\\r\\n              {{ msg.messageText }}\\r\\n            </div>\\r\\n            <button [disabled]=\\\"retroRight.commentRight <= 0\\\" (click)=\\\"addCommentModal(msg)\\\"\\r\\n              class=\\\"btn btn-theme btn-vertical-padding ml-3 btn-icon-text px-3\\\"><span>\\r\\n                {{'common.comment' | translate}}\\r\\n              </span> <i class=\\\"fa fa-comment\\\"></i></button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"category__comments mt-3\\\" *ngFor=\\\"let com of msg.comments\\\">\\r\\n          <div class=\\\"card card-theme card-theme--blue w-75 box-shadow-xs\\\">\\r\\n            <div class=\\\"card-body p-1 text-dark\\\">\\r\\n              {{ com.commentText }}\\r\\n            </div>\\r\\n          </div>\\r\\n  \\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  <div class=\\\"modal fade\\\" id=\\\"commentModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <form #templateForm=\\\"ngForm\\\" (ngSubmit)=\\\"sendComment()\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">{{ 'retro_comment.comment' | translate }}</h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n              <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n  \\r\\n            <div class=\\\"form-group\\\">\\r\\n              <textarea style=\\\"height: auto !important;\\\" rows=\\\"5\\\" class=\\\"form-control\\\"\\r\\n                [disabled]=\\\"retroRight.commentRight == 0\\\" [(ngModel)]=\\\"commentText\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone: true }\\\" (keydown.enter)=\\\"sendComment()\\\"></textarea>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-outline-theme btn-block btn-vertical-padding\\\"\\r\\n              data-dismiss=\\\"modal\\\">\\r\\n              {{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n  \\r\\n            <button type=\\\"button\\\" (click)=\\\"sendComment()\\\"\\r\\n              class=\\\"btn btn-theme btn-block mt-0 btn-vertical-padding justify-content-center\\\">\\r\\n              {{ 'retro_comment.send' | translate }}\\r\\n            </button>\\r\\n  \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\"","import { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { ChatService } from \"../../services/chat.service\";\r\nimport { Message } from \"../../models/message\";\r\nimport { Comment } from \"../../models/comment\";\r\nimport { MessageService } from \"../../services/message.service\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { Template } from \"app/models/template\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { animate, query, stagger, style, transition, trigger } from \"@angular/animations\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { convertActionBinding } from \"@angular/compiler/src/compiler_util/expression_converter\";\r\n\r\ndeclare var $: any;\r\n\r\ndeclare interface DataTable {\r\n  headerRow: string[];\r\n  footerRow: string[];\r\n  dataRows: string[][];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-retro-comment',\r\n  templateUrl: './retro-comment.component.html',\r\n  styleUrls: ['./retro-comment.component.css'],\r\n  animations: [\r\n    trigger('slideDownUp', [\r\n      transition(\"* => *\", [\r\n        query(\":leave\", [stagger(500, [animate(\"0.5s\", style({ opacity: 0 }))])], {\r\n          optional: true\r\n        }),\r\n        query(\r\n          \":enter\",\r\n          [\r\n            style({ opacity: 0 }),\r\n            stagger(500, [animate(\"0.5s\", style({ opacity: 1 }))])\r\n          ],\r\n          { optional: true }\r\n        )\r\n      ])\r\n\r\n    ]),\r\n\r\n  ]\r\n})\r\nexport class RetroCommentComponent implements OnInit {\r\n\r\n  messages = new Array<Message>();\r\n  selectedMessage = new Message();\r\n  messageCount = 0;\r\n  commentText: string = \"\";\r\n  comment: Comment = new Comment();\r\n  retroRight: UserRight = new UserRight();\r\n  isUser: boolean = false;\r\n\r\n  template: Template = new Template();\r\n\r\n\r\n  currentRetro: Retro;\r\n  retroId:string='';\r\n  selectSubject: Subject = new Subject();\r\n\r\n\r\n  constructor(\r\n    private chatService: ChatService,\r\n    private _ngZone: NgZone,\r\n    private authService: UserService,\r\n    private messageService: MessageService,\r\n    private templateService: TemplateService,\r\n    private sharedService: SharedService,\r\n    private subjectService: SubjectsService,\r\n    private configureService: RetroConfigurationService,\r\n  ) {\r\n\r\n    firebase.default.database().ref('comment/').limitToLast(1).on('value', (resp: any) => {\r\n      if (this.currentRetro) {\r\n        var data = snapshotToArray(resp);\r\n\r\n        if (data.length > 0) {\r\n          let comment = data[0];\r\n          let message = this.messages.filter((p) => p.id == comment.messageId);\r\n\r\n          if (message.length > 0 && message[0].comments != null) {\r\n            \r\n         \r\n            message[0].comments.unshift(comment);\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    if (this.retroId) {\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n\r\n\r\n\r\n    this.existUser();\r\n\r\n  }\r\n\r\n\r\n  getLastCurrentRetro(retroId) {\r\n\r\n    this.configureService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n\r\n\r\n          if (this.currentRetro) {\r\n            this.getRetroSubject(this.currentRetro.id);\r\n            this.getRetroTemplate(this.currentRetro.id);\r\n            this.getMessage();\r\n            this.getUserRight(this.currentRetro.id);\r\n\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectSubject = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n  getUserRight(retroId) {\r\n    let retro = new Retro();\r\n    retro.id = retroId;\r\n    retro.userId = this.authService.currentUserValue.userId;\r\n\r\n    this.configureService\r\n      .getUserRight(retro)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.retroRight = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n\r\n  }\r\n\r\n \r\n\r\n  private GetHeaderMessage(headerId) {\r\n\r\n    let filteredData = this.messages.filter(p => p.clientuniqueid == headerId);\r\n\r\n\r\n    return filteredData;\r\n  }\r\n\r\n  private getRetroTemplate(retroId) {\r\n    this.templateService\r\n      .getTemplateByRetroId(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.template = data;\r\n          this.sortedlist();\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n  sortedlist() {\r\n    this.messages.sort(function (a, b) {\r\n      return new Date(b.date).getTime() - new Date(a.date).getTime();\r\n    });\r\n  }\r\n\r\n  filterTrim(x) {\r\n    return x.replace(/^\\s+|\\s+$/gm, \"\");\r\n  }\r\n\r\n  addCommentModal(message) {\r\n    this.selectedMessage = message;\r\n    $(\"#commentModal\").modal(\"show\");\r\n    this.commentText = \"\";\r\n  }\r\n\r\n  sendComment() {\r\n    let currentUser = this.authService.currentUserValue;\r\n\r\n    if (this.filterTrim(this.commentText) != \"\") {\r\n      this.comment = new Comment();\r\n      this.comment.userId = currentUser.userId;\r\n      this.comment.messageId = this.selectedMessage.id;\r\n      this.comment.commentText = this.commentText;\r\n      this.comment.date = new Date();\r\n      this.comment.retroId = this.currentRetro.id;\r\n\r\n      this.configureService.newComment(this.comment).subscribe((res) => {\r\n        const newMessage = firebase.default.database().ref('comment/').push();\r\n        newMessage.set(this.comment);\r\n        this.retroRight = res;\r\n        this.commentText = \"\";\r\n      });\r\n\r\n\r\n      $(\"#commentModal\").modal(\"hide\");\r\n    }\r\n  }\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  private getMessage() {\r\n\r\n    this.messageService\r\n      .getAllNonCategoryMessage(this.currentRetro.id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.messages = data.filter(p => p.isCategorized == false);\r\n\r\n          this.messages.forEach(item=>{\r\n            item.comments=item.comments.reverse();\r\n          })\r\n          \r\n\r\n          this.messageCount = this.messages.length;\r\n          this.sortedlist();\r\n        },\r\n        (error) => { }\r\n      );\r\n\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLXJlcG9ydC9yZXRyby1yZXBvcnQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n\\r\\n\\r\\n<div class=\\\"report\\\" id=\\\"report-content\\\" name=\\\"report-content\\\" #content class=\\\"container form mt-50\\\">\\r\\n\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger float-right ml-5\\\" *ngIf=\\\"isLeader()\\\" (click)=\\\"finishRetro()\\\">{{ 'retro_report.finish_the_workshop' | translate }}</button>\\r\\n  \\r\\n        <button id=\\\"generate\\\" class=\\\"btn btn-success float-right\\\" *ngIf=\\\"isLeader()\\\" (click)=\\\"createPdf()\\\">\\r\\n          {{ 'retro_report.create_pdf' | translate }}</button>\\r\\n  \\r\\n      </div>\\r\\n    </div>\\r\\n  \\r\\n  \\r\\n    <div class=\\\"report-header mb-5\\\">\\r\\n  \\r\\n      <h1 class=\\\"report-header__title\\\">{{ 'retro_report.title' | translate }}</h1>\\r\\n      <span class=\\\"report-header__description\\\">\\r\\n        {{ 'retro_report.report_subtitle' | translate }}\\r\\n      </span>\\r\\n    </div>\\r\\n  \\r\\n    <div class=\\\"report-section mb-5\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">{{ 'retro_report.topic' | translate }}</h3>\\r\\n      <div class=\\\"card card-theme card-theme--cyan\\\">\\r\\n        <div class=\\\"card-body p-2\\\">\\r\\n          <h4 class=\\\"card-title\\\">{{subject.subjectTitle}}</h4>\\r\\n          <div class=\\\"card-description\\\">{{subject.subjectDescription}}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n    </div>\\r\\n  \\r\\n  \\r\\n    <div class=\\\"report-section mb-5\\\" *ngIf=\\\"categorizedMessages.length>0\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">{{ 'retro_report.Priority_Ideas' | translate }}</h3>\\r\\n  \\r\\n      <div *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n        <div *ngIf=\\\"GetHeaderCategorizedMessages(tmp.id).length>0\\\">\\r\\n          <h5 class=\\\"report-section__subtitle\\\">{{tmp.header}}</h5>\\r\\n          <div class=\\\"report-section__content\\\">\\r\\n            <div class=\\\"card card-theme box-shadow-xs mb-3\\\"\\r\\n              *ngFor=\\\" let message of GetHeaderCategorizedMessages(tmp.id);let index\\\">\\r\\n              <div class=\\\"card-body p-1 d-flex\\\">\\r\\n                <div class=\\\"card-description \\\" style=\\\"width: calc(100% - 70px);\\\">\\r\\n                  {{message.messageText}}\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-end\\\" style=\\\"width: 70px;\\\">\\r\\n                  <button class=\\\"btn btn-icon-theme\\\"><i class=\\\"fa fa-thumbs-up\\\"></i> ({{message.voteCount}})</button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n    </div>\\r\\n  \\r\\n  \\r\\n<!--   \\r\\n  \\r\\n    <div class=\\\"report-section mb-5\\\" *ngIf=\\\"messages.length>0\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">Dier Fikirler</h3>\\r\\n  \\r\\n      <div *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n        <div *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">\\r\\n  \\r\\n          <h5 class=\\\"report-section__subtitle\\\">{{tmp.header}}</h5>\\r\\n          <div class=\\\"report-section__content\\\" *ngFor=\\\"let message of GetHeaderMessage(tmp.id)\\\">\\r\\n            <div class=\\\"card card-theme box-shadow-xs mb-3\\\">\\r\\n              <div class=\\\"card-body p-1 d-flex\\\">\\r\\n                <div class=\\\"card-description\\\"  style=\\\"width: calc(100% - 70px);\\\"> \\r\\n                  {{message.messageText}}\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-end\\\" style=\\\"width:70px;\\\">\\r\\n                  <button class=\\\"btn btn-icon-theme\\\"><i class=\\\"fa fa-thumbs-up\\\"></i> ({{message.voteCount}})</button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div> -->\\r\\n  \\r\\n  \\r\\n    <div class=\\\"report-header mb-5\\\">\\r\\n      <h1 class=\\\"report-header__title\\\">{{ 'retro_report.report' | translate }}</h1>\\r\\n      <span class=\\\"report-header__description\\\">\\r\\n         {{'retro_report.footer_title' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n  \\r\\n    <div class=\\\"report-section mb-5\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">{{ 'retro_report.topic' | translate }}</h3>\\r\\n      <div class=\\\"card card-theme card-theme--cyan mb-3\\\">\\r\\n        <div class=\\\"card-body p-2\\\">\\r\\n          <h4 class=\\\"card-title\\\"> {{subject.subjectTitle}}</h4>\\r\\n          <div class=\\\"card-description\\\">{{subject.subjectDescription}}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n    </div>\\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n    <div class=\\\"report-section category mb-5\\\" *ngIf=\\\"categorizedMessages.length>0\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">{{ 'retro_report.Priority_Ideas' | translate }}</h3>\\r\\n      <div *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n        <div *ngIf=\\\"GetHeaderCategorizedMessages(tmp.id).length>0\\\">\\r\\n          <h5 class=\\\"report-section__subtitle\\\">{{tmp.header}}</h5>\\r\\n          <div class=\\\"report-section__content\\\">\\r\\n            <div class=\\\"card card-theme box-shadow-xs mb-3\\\"\\r\\n              *ngFor=\\\" let message of GetHeaderCategorizedMessages(tmp.id);let index\\\">\\r\\n              <div class=\\\"card-body p-1 d-flex\\\">\\r\\n                <div class=\\\"card-description\\\" style=\\\"width: calc(100% - 70px);\\\">\\r\\n                  {{message.messageText}}\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-end\\\" style=\\\"width:70px;\\\">\\r\\n                  <button class=\\\"btn btn-icon-theme\\\"><i class=\\\"fa fa-thumbs-up\\\"></i> ({{message.voteCount}})</button>\\r\\n                </div>\\r\\n              </div>\\r\\n  \\r\\n              <div class=\\\"category__comments mt-3\\\">\\r\\n                <div class=\\\"card card-theme card-theme--blue mb-3 w-75 box-shadow-xs\\\"\\r\\n                  *ngFor=\\\"let comment of message.comments\\\">\\r\\n                  <div class=\\\"card-body p-1 text-dark\\\">\\r\\n                    {{comment.commentText}}\\r\\n                  </div>\\r\\n                </div>\\r\\n                </div>\\r\\n    \\r\\n            </div>\\r\\n           \\r\\n          \\r\\n  \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  \\r\\n    <div class=\\\"report-section category mb-5\\\" *ngIf=\\\"messages.length>0\\\">\\r\\n      <h3 class=\\\"report-section__title\\\">{{ 'retro_report.Other_Ideas' | translate }}</h3>\\r\\n      <div *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n        <div *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">\\r\\n          <h5 class=\\\"report-section__subtitle\\\">{{tmp.header}}</h5>\\r\\n          <div class=\\\"report-section__content\\\" *ngFor=\\\"let message of GetHeaderMessage(tmp.id)\\\">\\r\\n            <div class=\\\"card card-theme box-shadow-xs mb-3\\\">\\r\\n              <div class=\\\"card-body p-1 d-flex\\\">\\r\\n                <div class=\\\"card-description\\\" style=\\\"width: calc(100% - 70px);\\\">\\r\\n                  {{message.messageText}}\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-end\\\" style=\\\"width: 70px;\\\">\\r\\n                  <button class=\\\"btn btn-icon-theme\\\"><i class=\\\"fa fa-thumbs-up\\\"></i> ({{message.voteCount}})</button>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"category__comments mt-3\\\">\\r\\n                <div class=\\\"card card-theme card-theme--blue mb-3 w-75 box-shadow-xs\\\"\\r\\n                  *ngFor=\\\"let comment of message.comments\\\">\\r\\n                  <div class=\\\"card-body p-1 text-dark\\\">\\r\\n                    {{comment.commentText}}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          \\r\\n            \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n  \\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <div id=\\\"editor\\\"></div>\\r\\n  <div class=\\\"my-overlay\\\" *ngIf=\\\"showOverlay\\\">\\r\\n    <i class=\\\"fa fa-spinner fa-spin\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <!--\\r\\n  \\r\\n  \\r\\n    <div *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n      <div *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">\\r\\n        <h5 class=\\\"alert alert-danger\\\">{{tmp.header}}</h5>\\r\\n        <div *ngFor=\\\"let message of GetHeaderMessage(tmp.id)\\\">\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <div class=\\\"alert alert-success\\\" role=\\\"alert\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <p class=\\\"col-sm-11\\\"> {{message.messageText}}\\r\\n              </p>\\r\\n              <span class=\\\"float-right col-sm-1\\\"> <i class=\\\"fa fa-thumbs-up fa-2x \\\"></i>({{message.voteCount}})</span>\\r\\n            </div>\\r\\n  \\r\\n          </div>\\r\\n  \\r\\n  \\r\\n          <div class=\\\"row\\\" *ngFor=\\\"let comment of message.comments\\\">\\r\\n            <div class=\\\"col-sm-9 offset-sm-3\\\">\\r\\n              <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\r\\n  \\r\\n                <p> {{comment.commentText}}\\r\\n                </p>\\r\\n  \\r\\n  \\r\\n  \\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    </div>\\r\\n  \\r\\n  \\r\\n  </div>\\r\\n  <div id=\\\"editor\\\"></div>\\r\\n  <div class=\\\"my-overlay\\\" *ngIf=\\\"showOverlay\\\">\\r\\n    <i class=\\\"fa fa-spinner fa-spin\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  </div> -->\"","import { Component, ModuleWithComponentFactories, NgZone, OnInit, trustConstantResourceUrl } from \"@angular/core\";\r\nimport { Categorized } from \"app/models/categorized\";\r\nimport { Category } from \"app/models/category\";\r\nimport { CategorizedMessage } from \"app/models/dto/categorized-message\";\r\nimport { VoteDto } from \"app/models/dto/vote-dto\";\r\n\r\nimport { Message } from \"app/models/message\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { CategoryService } from \"app/services/category.service\";\r\nimport { ChatService } from \"app/services/chat.service\";\r\nimport { MessageService } from \"app/services/message.service\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { Router } from \"@angular/router\"\r\nimport { Retro } from \"app/models/retro\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport * as moment from 'moment'\r\n\r\nimport { ViewChild, ElementRef } from '@angular/core';\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { Template } from \"app/models/template\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { Company } from \"app/models/company\";\r\nimport { CompanyService } from \"app/services/company.service\";\r\nimport { GroupService } from \"app/services/group.service\";\r\nimport { GroupFilter } from \"app/models/dto/group-filter\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport swal from \"sweetalert2\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport * as firebase from 'firebase';\r\nimport { ReportFile } from \"app/models/dto/report-file\";\r\nimport { OnlineUser } from \"app/models/dto/online-user\";\r\nimport { FirebaseOnlineUser } from \"app/models/firebase-online-user\";\r\nimport { RetroReset } from \"app/models/dto/retro-reset\";\r\nimport { dynamicSort } from \"app/helpers/object-short\";\r\n\r\ndeclare var $: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-retro-report',\r\n  templateUrl: './retro-report.component.html',\r\n  styleUrls: ['./retro-report.component.css']\r\n})\r\nexport class RetroReportComponent implements OnInit {\r\n\r\n  message = new Message();\r\n  messages = new Array<Message>();\r\n\r\n  categorys = new Array<CategorizedMessage>();\r\n  subject: Subject = new Subject();\r\n  archiveMessagesList = Array<Message>();\r\n  categorized: Categorized = new Categorized();\r\n  categorizedMessages = new Array<Message>();\r\n  allMessages = new Array<Message>();\r\n  nonCategorizedMessages = new Array<CategorizedMessage>();\r\n  comments = new Array<any>();\r\n  retro: Retro = new Retro();\r\n\r\n  public showOverlay = true;\r\n\r\n  currentCompany: Company;\r\n\r\n  template: Template = new Template();\r\n\r\n  retroRight: UserRight = new UserRight();\r\n  currentRetro: Retro;\r\n\r\n  onlineUsers: Array<FirebaseOnlineUser> = [];\r\n  retroId: string = '';\r\n\r\n\r\n  constructor(\r\n\r\n    private _ngZone: NgZone,\r\n    private router: Router,\r\n    private chatService: ChatService,\r\n    private groupService: GroupService,\r\n    private alertifyService: AlertifyService,\r\n    private userService: UserService,\r\n    private messageService: MessageService,\r\n    private companyService: CompanyService,\r\n    private retroConfigurationService: RetroConfigurationService,\r\n    private subjectService: SubjectsService,\r\n    private categoryService: CategoryService,\r\n    private templateService: TemplateService,\r\n    private configureService: RetroConfigurationService,\r\n    private sharedService: SharedService) {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    if (this.isLeader()) {\r\n      this.currentCompany = this.userService.currentUserValue.company;\r\n    }\r\n\r\n    this.retroId = this.userService.currentRetroIdValue;\r\n\r\n    if (this.retroId) {\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  getLastCurrentRetro(retroId) {\r\n\r\n    this.configureService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n\r\n\r\n          if (this.currentRetro) {\r\n\r\n            // this.getFirebaseMessage();\r\n            this.getRetroSubject(this.currentRetro.id);\r\n            this.getRetroTemplate(this.currentRetro.id);\r\n\r\n            this.getUserRight(this.currentRetro.id);\r\n            this.getOnlineUser();\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n\r\n\r\n  getUserRight(retroId) {\r\n    let retro = new Retro();\r\n    retro.id = retroId;\r\n    retro.userId = this.userService.currentUserValue.userId;\r\n\r\n    this.configureService\r\n      .getUserRight(retro)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.retroRight = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n\r\n  }\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.subject = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  isLeader() {\r\n    return this.userService.hasRole(\"Leader\");\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  getOnlineUser() {\r\n    firebase.default.database().ref('onlineuser/').on('value', (resp: any) => {\r\n\r\n      var res = snapshotToArray(resp);\r\n      if (this.currentRetro) {\r\n\r\n        if (res.length > 0) {\r\n\r\n          this.onlineUsers = res.filter(p => p.retroId == this.currentRetro.id);\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  private GetHeaderCategorizedMessages(headerId) {\r\n\r\n    let filteredData = this.categorizedMessages.filter(p => p.clientuniqueid == headerId);\r\n    return filteredData;\r\n  }\r\n\r\n  private GetHeaderMessage(headerId) {\r\n\r\n    let filteredData = this.messages.filter(p => p.clientuniqueid == headerId);\r\n    return filteredData;\r\n  }\r\n\r\n  private getRetroTemplate(retroId) {\r\n    this.templateService\r\n      .getTemplateByRetroId(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.template = data;\r\n          this.getMessage(this.currentRetro.id);\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n  private getMessage(retroId) {\r\n\r\n    this.messageService\r\n      .getReportMessage(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.messages = data.messages;\r\n          this.categorizedMessages = data.categorizedMessages;\r\n\r\n\r\n          this.showOverlay = false;\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n\r\n\r\n  sortedlist() {\r\n    this.messages.sort(function (a, b) {\r\n      return new Date(b.date).getTime() - new Date(a.date).getTime();\r\n    });\r\n  }\r\n\r\n\r\n  createPdf() {\r\n    this.showOverlay = true;\r\n    let data = new ReportFile();\r\n    data.retroId = this.currentRetro.id;\r\n    data.onlineUsers = this.onlineUsers;\r\n\r\n    this.retroConfigurationService.getRetroReport(data).subscribe((data) => {\r\n\r\n      let blob = new Blob([data], { type: 'application/pdf' });\r\n\r\n      var downloadURL = window.URL.createObjectURL(data);\r\n      var link = document.createElement('a');\r\n      link.href = downloadURL;\r\n      link.download = \"report.pdf\";\r\n      link.click();\r\n      this.showOverlay = false;\r\n\r\n    });\r\n  }\r\n\r\n\r\n\r\n  finishRetro() {\r\n\r\n    if (this.isLeader()) {\r\n\r\n      this.currentCompany.retroCount = this.currentCompany.retroCount - 1;\r\n      this.updateCompany(this.currentCompany);\r\n\r\n      if (this.userService.hasRole(\"Leader\")) {\r\n\r\n        let retro = new Retro();\r\n        retro.id = this.currentRetro.id;\r\n        retro.state = 2;\r\n        retro.currentPage = \"/current/report\"\r\n        retro.templateId = this.retro.templateId;\r\n\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  updateCompany(company: Company) {\r\n    this.companyService.update(company).pipe().subscribe((res) => {\r\n\r\n      let currentUser = this.userService.currentUserValue;\r\n      currentUser.company = res;\r\n      this.userService.currentUserSetValue(currentUser);\r\n\r\n      let filter = new GroupFilter();\r\n      filter.companyId = this.userService.currentUserValue.companyId;\r\n      filter.leaderId = this.userService.currentUserValue.userId;\r\n\r\n      let resetData = new RetroReset();\r\n      resetData.filter = filter;\r\n\r\n      let userIds = this.onlineUsers.map(function (item) { return item.userId; });\r\n      resetData.users = userIds;\r\n\r\n\r\n      this.groupService.getReset(resetData).pipe().subscribe((res) => {\r\n\r\n\r\n\r\n      });\r\n\r\n        let retro = new Retro();\r\n        retro.id = this.currentRetro.id;\r\n        retro.currentPage = \"/current/finish\"\r\n\r\n        const newMessage = firebase.default.database().ref('currentpath/').push();\r\n        newMessage.set(retro);\r\n\r\n      \r\n\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLXN0YXJ0L3JldHJvLXN0YXJ0LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"\\r\\n\\r\\n\\r\\n\\r\\n<div class=\\\"create-retro d-flex justify-content-end\\\" style=\\\"background-image: url('assets/img/retro-bg.png')\\\">\\r\\n \\r\\n  <form #configForm=\\\"ngForm\\\"  (ngSubmit)=\\\"saveConfig()\\\" class=\\\"create-retro__form\\\">\\r\\n    <h3 class=\\\"card-title\\\">{{ 'retro_start.title' | translate }}</h3>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>{{ 'retro_start.number_of_idea_Rights' | translate }}</label>\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"isCheckFailed()\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"config.ideaRight\\\"\\r\\n        [ngModelOptions]=\\\"{ standalone: true }\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"form-group \\\">\\r\\n      <label>{{ 'retro_start.Number_of_Comments' | translate }}</label>\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"isCheckFailed()\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"config.commentRight\\\"\\r\\n        [ngModelOptions]=\\\"{ standalone: true }\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"form-group \\\">\\r\\n      <label>{{ 'retro_start.Number_of_Voting_Rights' | translate }}</label>\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"isCheckFailed()\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"config.voteRight\\\"\\r\\n        [ngModelOptions]=\\\"{ standalone: true }\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end\\\">\\r\\n      <button type=\\\"submit\\\" [disabled]=\\\"isCheckFailed()\\\" class=\\\"btn btn-theme btn-vertical-padding btn-horizontal-padding\\\">{{ 'retro_start.start' | translate }}</button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\"","import { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { ChatService } from \"app/services/chat.service\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { Report } from \"app/models/dto/report\";\r\nimport { CategorizedMessage } from \"app/models/dto/categorized-message\";\r\nimport { GroupService } from \"app/services/group.service\";\r\nimport { GroupDto } from \"app/models/dto/group-dto\";\r\nimport { GroupFilter } from \"app/models/dto/group-filter\";\r\nimport swal from \"sweetalert2\";\r\nimport { CompanyService } from \"app/services/company.service\";\r\nimport { Group } from \"app/models/group\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport { RetroHubService } from \"app/services/hub/retro-hub.service\";\r\nimport { UserHubService } from \"app/services/hub/user-hub.service\";\r\nimport { GuidGenerator } from \"app/helpers/guid-generator\";\r\n\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { CursorError } from \"@angular/compiler/src/ml_parser/lexer\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n@Component({\r\n  selector: 'app-retro-start',\r\n  templateUrl: './retro-start.component.html',\r\n  styleUrls: ['./retro-start.component.css']\r\n})\r\nexport class RetroStartComponent implements OnInit {\r\n\r\n  /**\r\n   *\r\n   */\r\n  currentRetro: Retro = new Retro();\r\n  report = new Report();\r\n  config: RetroConfigration = new RetroConfigration();\r\n  selectSubject: Subject = null;\r\n  isShow: boolean = false;\r\n  retroRight: UserRight = new UserRight();\r\n  isFailed = false;\r\n  isRetroFailed = false;\r\n  categorizedMessages = new Array<CategorizedMessage>();\r\n  groups: Array<GroupDto> = [];\r\n\r\n  constructor(\r\n    private sharedService: SharedService,\r\n    private authService: UserService,\r\n    private groupService: GroupService,\r\n    private companyService: CompanyService,\r\n    private configService: RetroConfigurationService,\r\n    private router: Router,\r\n    private retroHubService: RetroHubService,\r\n    private userHubService: UserHubService,\r\n    private alertifyService: AlertifyService,\r\n    private _ngZone: NgZone,\r\n    private route: ActivatedRoute,\r\n    private translate:TranslateService\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    let id = this.route.snapshot.params.id;\r\n    localStorage.setItem(\"retro\", \"\");\r\n    let currentLang = this.authService.currentLangValue;\r\n  \r\n  \r\n    if (this.isUser()) {\r\n      this.router.navigate([\"/current/subject\", id]);\r\n    }\r\n\r\n    if (this.isLeader()) {\r\n      this.getFilterGroup();\r\n      this.isCheckCompanyRetroRight();\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  isUser() {\r\n    return this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n  isLeader() {\r\n    return this.authService.hasRole(\"Leader\");\r\n  }\r\n\r\n  isCheckFailed() {\r\n\r\n    return this.isFailed || this.isRetroFailed;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  isCheckCompanyRetroRight() {\r\n    var userValue = this.authService.currentUserValue;\r\n\r\n    this.companyService\r\n      .getCompany(userValue.companyId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          let company = res;\r\n          if (company && company.retroCount <= 0) {\r\n            this.isRetroFailed = true;\r\n            swal(\r\n              {\r\n                title: 'Uyar!',\r\n                text: 'irketinize ait  retro hakk bulunmamaktadr.',\r\n                type: 'warning',\r\n                showConfirmButton: false,\r\n                timer: 4000,\r\n                buttonsStyling: false\r\n              }\r\n            )\r\n          }\r\n          else {\r\n            this.isRetroFailed = false;\r\n          }\r\n        });\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  getFilterGroup() {\r\n    let filter = new GroupFilter();\r\n    filter.companyId = this.authService.currentUserValue.companyId;\r\n    filter.leaderId = this.authService.currentUserValue.userId;\r\n    filter.state = 0;\r\n    this.getAllGroup(filter);\r\n  }\r\n\r\n\r\n  getAllGroup(filter) {\r\n\r\n\r\n    this.groupService\r\n      .getAllGroup(filter)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          this.groups = res;\r\n\r\n          if (this.groups.length <= 0) {\r\n            this.isFailed = true;\r\n            swal(\r\n              {\r\n                title: 'Uyar!',\r\n                text: 'Atanm bir retro grubunuz bulunmamaktadr.',\r\n                type: 'warning',\r\n                showConfirmButton: false,\r\n                timer: 4000,\r\n                buttonsStyling: false\r\n              }\r\n            )\r\n          }\r\n          else {\r\n            this.isFailed = false;\r\n          }\r\n\r\n\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error();\r\n        }\r\n      );\r\n  }\r\n\r\n  updateGroup(group: Group) {\r\n    this.groupService\r\n      .update(group)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n  saveConfig() {\r\n    let currentUser = this.authService.currentUserValue;\r\n    this.config.userId = currentUser.userId;\r\n\r\n\r\n\r\n    this.configService\r\n      .create(this.config)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n\r\n          this.config = res;\r\n\r\n\r\n          let currentUser = this.authService.currentUserValue;\r\n\r\n          let retro = new Retro();\r\n          retro.id = res.retroId;\r\n          retro.userId = currentUser.userId;\r\n          retro.state = 2;\r\n          retro.currentPage = \"/current/subject\"\r\n\r\n          this.configService.setCurrentRetro(retro);\r\n\r\n          this.groups[0].group.state = 1;\r\n\r\n          this.updateGroup(this.groups[0].group);\r\n\r\n          let generator = new GuidGenerator();\r\n\r\n\r\n\r\n          let current = new Retro();\r\n          current.currentPage = \"/current/subject\";\r\n          current.id = res.retroId;\r\n          \r\n          this.authService.currentRetroIdSetValue(current.id);\r\n\r\n          const newMessage = firebase.default.database().ref('currentpath/').push();\r\n          newMessage.set(current).then(p => {\r\n\r\n            this.router.navigate([\"/current/subject\"])\r\n          });\r\n\r\n\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error()\r\n        }\r\n      );\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLXN1YmplY3QvcmV0cm8tc3ViamVjdC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-end mb-3 mt-3\\\">\\r\\n    <button class=\\\"btn btn-theme\\\" *ngIf=\\\"!isUser\\\" type=\\\"button\\\" data-toggle=\\\"modal\\\" data-target=\\\"#addModal\\\">\\r\\n      <span>{{ 'retro_subject.add_subject' | translate }}</span>\\r\\n  \\r\\n    </button>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-4\\\" *ngFor=\\\"let subject of subjects; let i = index\\\">\\r\\n      <div class=\\\"mb-3 card card-theme box-shadow\\\" >\\r\\n        <a href=\\\"javascript:;\\\" *ngIf=\\\"isCheckOwner(subject)\\\" class=\\\"corner-button\\\" (click)=\\\"removeSubject(subject.id)\\\"><i class=\\\"fa fa-times-circle fa-2x text-danger\\\"></i></a>\\r\\n        <a [class.disabled]=\\\"isUser\\\" (click)=\\\"selectSubject(subject)\\\" [ngClass]=\\\"{ active: selectSubjectId == subject.id }\\\">\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <h3 class=\\\"card-title\\\">{{ subject.subjectTitle }}</h3>\\r\\n            <p class=\\\"card-description\\\">\\r\\n              {{subject.subjectDescription? subject.subjectDescription:'-'}}\\r\\n            </p>\\r\\n          </div>\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <div class=\\\"modal fade\\\" id=\\\"addModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <form #templateForm=\\\"ngForm\\\" (ngSubmit)=\\\"saveSubject()\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">  {{  getTitle()  }} </h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n              <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n  \\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>{{ 'retro_subject.company' | translate }}</label>\\r\\n              <select class=\\\"form-control\\\" disabled [(ngModel)]=\\\"subject.companyId\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone: true }\\\">\\r\\n                <option value=\\\"\\\" selected>{{ 'retro_subject.select_company' | translate }}</option>\\r\\n                <option [value]=\\\"company.id\\\" *ngFor=\\\"let company of companys\\\">{{company.companyName}}</option>\\r\\n  \\r\\n              </select>\\r\\n  \\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>{{ 'retro_subject.hood' | translate }}</label>\\r\\n              <input style=\\\"max-height: max-content\\\" rows=\\\"10\\\" class=\\\"form-control textarea\\\"\\r\\n                [(ngModel)]=\\\"subject.subjectTitle\\\" [ngModelOptions]=\\\"{ standalone: true }\\\" />\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label for=\\\"exampleFormControlTextarea1\\\">{{ 'retro_subject.detail' | translate }}</label>\\r\\n              <textarea class=\\\"form-control\\\" style=\\\"height: auto !important;\\\" [(ngModel)]=\\\"subject.subjectDescription\\\" [ngModelOptions]=\\\"{ standalone: true }\\\" id=\\\"exampleFormControlTextarea1\\\" rows=\\\"3\\\"></textarea>\\r\\n            </div>\\r\\n            \\r\\n  \\r\\n          </div>\\r\\n          <div class=\\\"modal-footer d-flex align-items-center\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-outline-theme btn-block btn-vertical-padding\\\"\\r\\n              data-dismiss=\\\"modal\\\">{{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-theme btn-block mt-0 btn-vertical-padding justify-content-center\\\">\\r\\n              {{ 'common.save' | translate }}\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\"","import { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport swal from \"sweetalert2\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { ChatService } from \"app/services/chat.service\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { SubjectDto } from \"app/models/dto/subject-dto\";\r\nimport { CompanyService } from \"app/services/company.service\";\r\nimport { Company } from \"app/models/company\";\r\nimport { SubjectFilter } from \"app/models/dto/subject-filter\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { RetroHubService } from \"app/services/hub/retro-hub.service\";\r\nimport { UserHubService } from \"app/services/hub/user-hub.service\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { GuidGenerator } from \"app/helpers/guid-generator\";\r\n\r\ndeclare var $: any;\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n@Component({\r\n  selector: 'app-retro-subject',\r\n  templateUrl: './retro-subject.component.html',\r\n  styleUrls: ['./retro-subject.component.css']\r\n})\r\nexport class RetroSubjectComponent implements OnInit {\r\n  subjects: Array<Subject> = [];\r\n  subject: Subject = new Subject();\r\n  isUpdate: boolean = false;\r\n  isUser: boolean = false;\r\n  retroRight: RetroConfigration = new RetroConfigration();\r\n  retro: Retro = new Retro();\r\n  selectSubjectId: any = \"\";\r\n  companys: Array<Company> = [];\r\n  companyId: string = '';\r\n\r\n  retroId: string = '';\r\n  currentUserId: string = '';\r\n\r\n  constructor(\r\n    private subjectService: SubjectsService,\r\n    private sharedService: SharedService,\r\n    private authService: UserService,\r\n    private chatService: ChatService,\r\n    private configurationService: RetroConfigurationService,\r\n    private retroHubService: RetroHubService,\r\n    private userHubService: UserHubService,\r\n    private alertifyService: AlertifyService,\r\n    private companyService: CompanyService,\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n\r\n\r\n    private _ngZone: NgZone\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.existUser();\r\n\r\n    this.subject.companyId = this.authService.currentUserValue.companyId;\r\n    this.getAllCompany();\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n\r\n    if (this.retroId) {\r\n      this.getSubjects();\r\n    }\r\n\r\n    this.currentUserId = this.authService.currentUserValue.userId\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  selectSubject(subject: any) {\r\n\r\n\r\n    if (this.authService.hasRole(\"Leader\")) {\r\n\r\n\r\n      this.selectSubjectId = subject.id;\r\n\r\n      let retro = new Retro();\r\n      retro.id = this.retroId;\r\n      retro.state = 2;\r\n      retro.subjectId = this.selectSubjectId;\r\n      retro.currentPage = \"/current/template\";\r\n\r\n      this.configurationService.setCurrentRetro(retro).subscribe((res) => {\r\n        let selectSubjectDto = new SubjectDto();\r\n        selectSubjectDto.id = subject.id;\r\n        selectSubjectDto.subjectTitle = subject.subjectTitle;\r\n        selectSubjectDto.subjectDescription = subject.subjectDescription;\r\n        selectSubjectDto.retroId = this.retroId;\r\n\r\n\r\n        let current = new Retro();\r\n        current.currentPage = \"/current/template\";\r\n        current.id = this.retroId;\r\n        const newMessage = firebase.default.database().ref('currentpath/').push();\r\n        newMessage.set(current);\r\n\r\n\r\n        this.configurationService.setSelectedSubject(selectSubjectDto).subscribe(\r\n          (res) => {\r\n            this.router.navigate([\"/current/template\"]);\r\n          }\r\n        );\r\n\r\n      });\r\n\r\n\r\n\r\n    }\r\n  }\r\n\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n\r\n  getAllCompany() {\r\n\r\n    this.companyService\r\n      .getAllCompany()\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          this.companys = res;\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error()\r\n        }\r\n      );\r\n  }\r\n\r\n  isCheckOwner(subject: Subject) {\r\n\r\n    return this.currentUserId == subject.userId;\r\n  }\r\n\r\n  getSubjects() {\r\n    let filter = new SubjectFilter();\r\n    filter.companyId = this.authService.currentUserValue.companyId;\r\n    filter.retroId = this.retroId;\r\n\r\n    this.subjectService\r\n      .getAllSubject(filter)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          if (res.length > 0) {\r\n            this.subjects = res;\r\n          } else {\r\n            this.showSwal(\"warning-message-and-confirmation\");\r\n          }\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error()\r\n        }\r\n      );\r\n  }\r\n\r\n  editSubject(subjectId: any) {\r\n    this.subjectService\r\n      .getSubject(subjectId)\r\n      .pipe(first())\r\n      .subscribe((res) => {\r\n        this.subject = res;\r\n        this.isUpdate = true;\r\n        $(\"#addModal\").modal(\"show\");\r\n      });\r\n  }\r\n\r\n  removeSubject(subjectId: any) {\r\n    this.subjectService\r\n      .delete(subjectId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          this.alertifyService.success()\r\n          this.getSubjects();\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error()\r\n        }\r\n      );\r\n  }\r\n\r\n  getTitle() {\r\n    if (this.isUpdate)\r\n      return this.translate.instant(\"subject.edit_subject\");\r\n    else\r\n      return this.translate.instant(\"subject.add_subject\");\r\n  }\r\n\r\n  saveSubject() {\r\n    let data = this.subject;\r\n    this.subject.subjectTitle = this.subject.subjectTitle.replace(\r\n      /[\\t\\r\\n]/g,\r\n      \"\"\r\n    );\r\n\r\n\r\n    if (!this.isUpdate) {\r\n      data.createRole = \"Leader\";\r\n      data.userId = this.authService.currentUserValue.userId;\r\n\r\n      this.subjectService\r\n        .create(data)\r\n        .pipe(first())\r\n        .subscribe(\r\n          (res) => {\r\n            this.subject.subjectTitle = \"\";\r\n            this.subject.subjectDescription = \"\";\r\n            this.alertifyService.success()\r\n            this.getSubjects();\r\n\r\n            $(\"#addModal\").modal(\"hide\");\r\n          },\r\n          (error) => {\r\n            this.alertifyService.error()\r\n          }\r\n        );\r\n    } else {\r\n      this.subjectService\r\n        .update(data)\r\n        .pipe(first())\r\n        .subscribe(\r\n          (res) => {\r\n            this.subject.subjectTitle = \"\";\r\n            this.subject.subjectDescription = \"\";\r\n            this.alertifyService.success()\r\n            this.getSubjects();\r\n            this.isUpdate = false;\r\n            $(\"#addModal\").modal(\"hide\");\r\n          },\r\n          (error) => {\r\n            this.alertifyService.error()\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  showSwal(type, id = 0) {\r\n    if (type == \"warning-message-and-confirmation\") {\r\n      swal({\r\n        title: this.translate.instant(\"common.topic_not_found\"),\r\n        text: this.translate.instant(\"common.topic_create_request\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonClass: \"btn btn-success\",\r\n        cancelButtonClass: \"btn btn-danger\",\r\n        confirmButtonText: this.translate.instant('common.yes'),\r\n        cancelButtonText: this.translate.instant('common.no'),\r\n        buttonsStyling: false,\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          $(\".btn-subject-create\").click();\r\n        }\r\n      });\r\n    }\r\n    if (type == \"warning-message-and-confirmation-delete\") {\r\n      swal({\r\n        title: this.translate.instant(\"common.warning\"),\r\n        text: this.translate.instant(\"common.confirm_delete\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonClass: \"btn btn-success\",\r\n        cancelButtonClass: \"btn btn-danger\",\r\n        confirmButtonText: this.translate.instant(\"common.yes\"),\r\n        cancelButtonText: this.translate.instant(\"common.no\"),\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.removeSubject(id);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLXRlbXBsYXRlL3JldHJvLXRlbXBsYXRlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n<app-subject-header></app-subject-header>\\r\\n\\r\\n<div class=\\\"card-title\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n      </div>\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <button *ngIf=\\\"!isUser\\\" type=\\\"button\\\" data-toggle=\\\"modal\\\" data-target=\\\"#addModal\\\"\\r\\n        class=\\\" float-right btn btn-theme btn-horizontal-padding btn-vertical-padding\\\">\\r\\n        {{ 'retro_template.add_template' | translate }}\\r\\n        </button>\\r\\n      \\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <div class=\\\"row mt-5\\\" *ngIf=\\\"templates.length > 0\\\">\\r\\n    <div class=\\\"col-sm-6 col-xs-12 mb-3 corner-item\\\" *ngFor=\\\"let template of templates; let i = index\\\">\\r\\n      <a href=\\\"javascript:;\\\"  *ngIf=\\\"isCheckOwner(template)\\\" class=\\\"corner-button-template\\\" (click)=\\\"removeTemplate(template)\\\"><i class=\\\"fa fa-times-circle fa-2x text-danger\\\"></i></a>\\r\\n\\r\\n      <a [class.disabled]=\\\"isUser\\\" *ngIf=\\\"\\r\\n      template.templateDetail.length >= 1 &&\\r\\n      template.templateDetail[0].header != ''\\r\\n    \\\" (click)=\\\"selectTemplate(template.id)\\\" [ngClass]=\\\"{ active: selectTemplateId == template.id }\\\">\\r\\n        <div class=\\\"card box-shadow card-theme d-flex justify-content-center align-items-center\\\">\\r\\n          <h3 class=\\\"card-title mb-2 mt-2 text-secondary mini-btn\\\">\\r\\n            <span class=\\\"align-baseline\\\" *ngFor=\\\"let detail of template.templateDetail; let j = index\\\">\\r\\n              {{ detail.header }}\\r\\n            </span>\\r\\n          </h3>\\r\\n        </div>\\r\\n      </a>\\r\\n\\r\\n      <a  [class.disabled]=\\\"isUser\\\"  *ngIf=\\\"\\r\\n      template.templateDetail.length == 1 &&\\r\\n      template.templateDetail[0].header == ''\\r\\n    \\\" (click)=\\\"selectTemplate(template.id)\\\" [ngClass]=\\\"{ active: selectTemplateId == template.id }\\\">\\r\\n        <div class=\\\"card box-shadow card-theme d-flex justify-content-center align-items-center\\\">\\r\\n          <h3 class=\\\"card-title mb-2 mt-2 text-secondary\\\">|\\r\\n            <span class=\\\"align-baseline\\\" >\\r\\n              {{ 'retro_template.continue_without_template' | translate }}\\r\\n \\r\\n            </span>\\r\\n          </h3>\\r\\n        </div>\\r\\n      </a>\\r\\n    </div>\\r\\n  \\r\\n  \\r\\n  </div>\\r\\n  \\r\\n  \\r\\n  <div class=\\\"modal fade\\\" id=\\\"addModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <form #templateForm=\\\"ngForm\\\" class=\\\"container mt-3\\\" (ngSubmit)=\\\"saveTemplate()\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">{{ 'retro_template.add_new_template' | translate }}</h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n              <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n  \\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>{{ 'retro_template.company' | translate }}</label>\\r\\n              <select class=\\\"form-control\\\" disabled [(ngModel)]=\\\"data.companyId\\\" [ngModelOptions]=\\\"{ standalone: true }\\\">\\r\\n                <option value=\\\"\\\" selected>{{ 'retro_template.add_company' | translate }}</option>\\r\\n                <option [value]=\\\"company.id\\\" *ngFor=\\\"let company of companys\\\">{{company.companyName}}</option>\\r\\n  \\r\\n              </select>\\r\\n  \\r\\n            </div>\\r\\n            <button type=\\\"button\\\" (click)=\\\"addHeader()\\\" class=\\\"btn btn-block btn-outline-theme text-center btn-vertical-padding mb-3\\\">\\r\\n              <i class=\\\"fa fa-plus\\\"></i>\\r\\n            </button>\\r\\n            <div class=\\\"template-title\\\">\\r\\n             \\r\\n              <div class=\\\"template-title-group\\\" *ngFor=\\\"let header of headers; let i = index\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label>{{ 'retro_template.hood' | translate }}</label>\\r\\n                  <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"header.header\\\" name=\\\"header_{{ header.order }}\\\"\\r\\n                    placeholder=\\\"{{ 'common.title_required' | translate }}\\\" />\\r\\n                </div>\\r\\n                <div class=\\\"template-title-group__utils\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label>{{ 'retro_template.desk' | translate }}</label>\\r\\n                    <select class=\\\"form-control\\\" (change)=\\\"changeSort()\\\" [(ngModel)]=\\\"header.order\\\"\\r\\n                      name=\\\"order_{{ header.order }}\\\" placeholder=\\\"Sra\\\">\\r\\n                      <option *ngFor=\\\"let i of orderlist; let i = index\\\" [value]=\\\"i\\\">\\r\\n                        {{ i }}\\r\\n                      </option>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                  <div class=\\\"d-flex align-items-end pb-3 form-cancel\\\">\\r\\n                    <button type=\\\"button\\\" (click)=\\\"removeHeader(i)\\\" class=\\\"btn btn-theme\\\">\\r\\n                      <i class=\\\"fa fa-times\\\"></i>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n  \\r\\n            </div>\\r\\n  \\r\\n          </div>\\r\\n          <div class=\\\"modal-footer d-flex align-items-center\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-outline-theme btn-block btn-vertical-padding\\\"\\r\\n              data-dismiss=\\\"modal\\\">\\r\\n              {{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-theme btn-block mt-0 btn-vertical-padding justify-content-center\\\">\\r\\n              {{ 'common.save' | translate }}\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \"","import { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { Template } from \"app/models/template\";\r\nimport { TemplateDetail } from \"app/models/template-detail\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport swal from \"sweetalert2\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { ChatService } from \"app/services/chat.service\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { CompanyService } from \"app/services/company.service\";\r\nimport { Company } from \"app/models/company\";\r\nimport { TemplateFilter } from \"app/models/dto/template-filter\";\r\nimport { NotifierService } from \"angular-notifier\";\r\nimport { AlertifyService } from \"app/services/alertify.service\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { Router } from \"@angular/router\";\r\nimport { GuidGenerator } from \"app/helpers/guid-generator\";\r\n\r\n\r\ndeclare var $: any;\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-retro-template',\r\n  templateUrl: './retro-template.component.html',\r\n  styleUrls: ['./retro-template.component.css']\r\n})\r\nexport class RetroTemplateComponent implements OnInit {\r\n\r\n  public headers: TemplateDetail[] = [\r\n    {\r\n      header: \"\",\r\n      order: 1,\r\n    },\r\n  ];\r\n  selectSubject: Subject=new Subject();\r\n  \r\n  templates: Template[] = [];\r\n  selectTemplateId: string;\r\n  isUser: boolean = false;\r\n  companys: Array<Company> = [];\r\n  companyId: string = '';\r\n  retroId: string = '';\r\n\r\n  data = new Template();\r\n  currentUserId:string='';\r\n  /**\r\n   *\r\n   */\r\n  private readonly notifier: NotifierService;\r\n  constructor(\r\n    private templateService: TemplateService,\r\n    private companyService: CompanyService,\r\n    private sharedService: SharedService,\r\n    private authService: UserService,\r\n    private alertifyService: AlertifyService,\r\n    private chatService: ChatService,\r\n    private subjectService: SubjectsService,\r\n    private translate: TranslateService,\r\n    private configureService: RetroConfigurationService,\r\n    private router: Router,\r\n    private _ngZone: NgZone\r\n    ) {\r\n\r\n  \r\n\r\n  }\r\n\r\n  orderlist = [];\r\n\r\n  ngOnInit(): void {\r\n\r\n\r\n\r\n\r\n    for (let i = 1; i <= 10; i++) {\r\n      this.orderlist.push(i);\r\n    }\r\n\r\n    this.existUser();\r\n    this.getAllCompany();\r\n\r\n    this.data.companyId = this.authService.currentUserValue.companyId;\r\n\r\n    this.retroId=this.authService.currentRetroIdValue;\r\n    if(this.retroId){\r\n      this.getRetroSubject(this.retroId);\r\n      this.getTemplateList();\r\n    }\r\n\r\n    this.currentUserId=this.authService.currentUserValue.userId;\r\n\r\n  }\r\n\r\n\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n  getAllCompany() {\r\n    this.companyService\r\n      .getAllCompany()\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          this.companys = res;\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error();\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n  \r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectSubject = res;\r\n          \r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  selectTemplate(templateId) {\r\n \r\n    if (this.authService.hasRole(\"Leader\")) {\r\n\r\n      let retro = new Retro();\r\n      retro.id = this.retroId;\r\n      retro.state = 2;\r\n      retro.subjectId=this.selectSubject.id;\r\n      retro.templateId = templateId;\r\n      retro.currentPage = \"/current/brainstorm\"\r\n\r\n      let generator=new GuidGenerator();\r\n\r\n     \r\n\r\n      this.configureService.setCurrentRetro(retro).subscribe(\r\n        (res)=>{\r\n          let current = new Retro();\r\n          current.currentPage = \"/current/brainstorm\";\r\n          current.id = this.retroId;\r\n          const newMessage = firebase.default.database().ref('currentpath/').push();\r\n          newMessage.set(current).then(p=>{\r\n            this.router.navigate([\"/current/brainstorm\"]);\r\n\r\n          });\r\n\r\n        }\r\n      );;\r\n\r\n\r\n\r\n    }\r\n  }\r\n\r\n  showSwal(type) {\r\n    if (type == \"warning-message-and-confirmation\") {\r\n      swal({\r\n\r\n        title: this.translate.instant(\"common.template_not_found\") ,\r\n        text:this.translate.instant(\"common.template_create_request\") , \r\n\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonClass: \"btn btn-success\",\r\n        cancelButtonClass: \"btn btn-danger\",\r\n        confirmButtonText: this.translate.instant(\"common.yes\"),\r\n        cancelButtonText: this.translate.instant(\"common.no\"),\r\n        buttonsStyling: false,\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          $(\".btn-create\").click();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  \r\n  isCheckOwner(subject:Subject){\r\n      \r\n    return this.currentUserId==subject.userId;\r\n}\r\n\r\n\r\n  removeTemplate(template:Template) {\r\n \r\n\r\n    this.templateService\r\n      .delete(template.id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n         \r\n       this.getTemplateList()\r\n          \r\n        },\r\n        (error) => {\r\n          this.alertifyService.error();\r\n        }\r\n      );\r\n  }\r\n\r\n  getTemplateList() {\r\n    let filter = new TemplateFilter();\r\n    filter.companyId = this.authService.currentUserValue.companyId;\r\n    filter.retroId = this.retroId;\r\n\r\n    this.templateService\r\n      .getAllTemplate(filter)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          if (res.length > 0) {\r\n            this.templates = res;\r\n\r\n          } else {\r\n            // this.showSwal(\"warning-message-and-confirmation\");\r\n          }\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error();\r\n        }\r\n      );\r\n  }\r\n  addHeader() {\r\n\r\n\r\n    this.headers.push({\r\n      header: \"\",\r\n      order: this.headers.length + 1,\r\n    });\r\n\r\n  }\r\n\r\n  changeSort() {\r\n    this.headers.sort(function (a, b) {\r\n      return a.order - b.order;\r\n    });\r\n  }\r\n\r\n  removeHeader(i: number) {\r\n    this.headers.splice(i, 1);\r\n  }\r\n\r\n  saveTemplate() {\r\n    this.headers = this.headers.filter(p => p.header != \"\");\r\n    this.data.templateDetail = this.headers;\r\n    this.data.templateName = new Date().getTime().toString();\r\n    this.data.createRole = \"Leader\";\r\n    this.data.userId = this.authService.currentUserValue.userId;\r\n\r\n    this.templateService\r\n      .create(this.data)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n          this.alertifyService.success()\r\n          this.getTemplateList();\r\n          this.headers = [\r\n            {\r\n              header: \"\",\r\n              order: 1,\r\n            },\r\n          ];\r\n\r\n          $(\"#addModal\").modal(\"hide\");\r\n        },\r\n        (error) => {\r\n          this.alertifyService.error()\r\n        }\r\n      );\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JldHJvLXZvdGUvcmV0cm8tdm90ZS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-tab-header></app-tab-header>\\r\\n<app-subject-header></app-subject-header>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-end mt-3\\\">\\r\\n  <span class=\\\"pill-title text-bold\\\" *ngIf=\\\"retroRight != null\\\"  [ngClass]=\\\"\\r\\n  retroRight.voteRight > 0 ? 'text-success' : 'text-danger'\\r\\n\\\">\\r\\n{{ 'retro_vote.voting_right' | translate }}:{{ retroRight.voteRight }}</span>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<div class=\\\"categories mt-5\\\" *ngFor=\\\"let tmp of template.templateDetail\\\">\\r\\n  <div class=\\\"category\\\" >\\r\\n    <h5 *ngIf=\\\"GetHeaderMessage(tmp.id).length>0\\\">{{tmp.header}}</h5>\\r\\n    <div class=\\\"card card-theme box-shadow-sm border-radius-lg mb-3\\\" *ngFor=\\\"let message of GetHeaderMessage(tmp.id)\\\" >\\r\\n      <div class=\\\"card-body p-1 d-flex align-items-center justify-content-between\\\" >\\r\\n        <div class=\\\"card-description\\\">\\r\\n          {{ message.messageText }}\\r\\n        </div>\\r\\n        <div class=\\\"card-actions d-flex justify-content-between text-nowrap\\\">\\r\\n          <button (click)=\\\"getComment(message)\\\" class=\\\"btn btn-theme btn-horizontal-padding-xs mr-2 btn-list-comment\\\">\\r\\n            <i class=\\\"fa fa-comment-alt mr-2\\\"></i>\\r\\n            <div class=\\\"d-md-block d-none\\\">{{ 'retro_vote.comments' | translate }}</div>\\r\\n            \\r\\n            <span class=\\\"count\\\">{{message.commentCount}}</span>\\r\\n          </button>\\r\\n          <button [disabled]=\\\"retroRight.voteRight <= 0 \\\" (click)=\\\"setVote(message)\\\"\\r\\n            class=\\\"btn btn-theme btn-horizontal-padding-xs\\\">\\r\\n            <i class=\\\"fa fa-thumbs-up mr-2\\\" [ngClass]=\\\"{\\r\\n              'text-secondary':isVotedCheck(message.id) === true\\r\\n              \\r\\n            }\\\"></i>\\r\\n            <div class=\\\"d-md-block d-none\\\">{{ 'retro_vote.vote' | translate }}</div>\\r\\n            <span class=\\\"count\\\">{{message.voteCount}}</span>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n  <div class=\\\"modal fade\\\" id=\\\"modalComment\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <form #templateForm=\\\"ngForm\\\" (ngSubmit)=\\\"sendComment()\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">{{ 'retro_vote.comments' | translate }}</h5>\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n              <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n\\r\\n            <div class=\\\"row\\\" *ngFor=\\\"let comment of message.comments\\\">\\r\\n              <div class=\\\"col-md-12\\\">\\r\\n                <div class=\\\"card mt-2\\\">\\r\\n                  <div class=\\\"card-header\\\">\\r\\n                    {{ comment.commentText }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n  \\r\\n\"","import { animate, query, stagger, style, transition, trigger } from \"@angular/animations\";\r\nimport { Component, NgZone, OnInit } from \"@angular/core\";\r\nimport { Categorized } from \"app/models/categorized\";\r\nimport { Category } from \"app/models/category\";\r\nimport { CategorizedMessage } from \"app/models/dto/categorized-message\";\r\nimport { VoteDto } from \"app/models/dto/vote-dto\";\r\n\r\nimport { Message } from \"app/models/message\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { RetroConfigration } from \"app/models/retro-configuration\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { Template } from \"app/models/template\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { CategoryService } from \"app/services/category.service\";\r\nimport { ChatService } from \"app/services/chat.service\";\r\nimport { MessageService } from \"app/services/message.service\";\r\nimport { RetroConfigurationService } from \"app/services/retro-configuration\";\r\nimport { SharedService } from \"app/services/shared.service\";\r\nimport { SubjectsService } from \"app/services/subject.service\";\r\nimport { TemplateService } from \"app/services/template.service\";\r\nimport { UserService } from \"app/services/user.service\";\r\nimport { first } from \"rxjs/operators\";\r\n\r\ndeclare var $: any;\r\n\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\n\r\n@Component({\r\n  selector: 'app-retro-vote',\r\n  templateUrl: './retro-vote.component.html',\r\n  styleUrls: ['./retro-vote.component.css'],\r\n  animations: [\r\n    trigger('slideDownUp', [\r\n      transition(\"* => *\", [\r\n        query(\":leave\", [stagger(500, [animate(\"0.5s\", style({ opacity: 0 }))])], {\r\n          optional: true\r\n        }),\r\n        query(\r\n          \":enter\",\r\n          [\r\n            style({ opacity: 0 }),\r\n            stagger(500, [animate(\"0.5s\", style({ opacity: 1 }))])\r\n          ],\r\n          { optional: true }\r\n        )\r\n      ])\r\n     \r\n    ]),\r\n\r\n    trigger('fade', [\r\n      transition('* => *', [ // using status here for transition\r\n        style({ opacity: 0 }),\r\n        animate(1000, style({ opacity: 1 }))\r\n      ]),\r\n      transition('* => void', [\r\n        animate(1000, style({ opacity: 0 }))\r\n      ])\r\n    ])\r\n  \r\n  ]\r\n})\r\nexport class RetroVoteComponent implements OnInit {\r\n\r\n  message = new Message();\r\n  categorys = new Array<CategorizedMessage>();\r\n  subject: Subject = new Subject();\r\n\r\n  categorized: Categorized = new Categorized();\r\n  categorizedMessages = new Array<CategorizedMessage>();\r\n  comments = new Array<any>();\r\n  retroRight: RetroConfigration = new RetroConfigration();\r\n  isUser: boolean = false;\r\n  votedMessages = new Array<any>();\r\n  messages:Array<Message>=[];\r\n\r\n  retro: Retro = new Retro();\r\n  template: Template = new Template();\r\n\r\n  currentRetro: Retro;\r\n  retroId:string='';\r\n  selectSubject: Subject = new Subject();\r\n  \r\n  constructor(\r\n    private _ngZone: NgZone,\r\n    private chatService: ChatService,\r\n    private messageService: MessageService,\r\n    private categoryService: CategoryService,\r\n    private sharedService: SharedService,\r\n    private authService: UserService,\r\n    private templateService: TemplateService,\r\n    private subjectService: SubjectsService,\r\n    private configureService: RetroConfigurationService,\r\n\r\n  ) {\r\n\r\n\r\n    firebase.default.database().ref('vote/').limitToLast(1).on('value', (resp: any) => {\r\n      if (this.currentRetro) {\r\n        var data = snapshotToArray(resp);\r\n        if (data.length>0) {\r\n          this.messageService\r\n          .getAllNonCategoryMessage(this.currentRetro.id)\r\n          .pipe(first())\r\n          .subscribe(\r\n            (data) => {\r\n              this.messages = data;\r\n            },\r\n            (error) => { }\r\n          );\r\n\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    if (this.retroId) {\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n\r\n    this.existUser();\r\n\r\n  }\r\n\r\n  getLastCurrentRetro(retroId) {\r\n\r\n    this.configureService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n\r\n\r\n          if (this.currentRetro) {\r\n            this.getRetroSubject(this.currentRetro.id);\r\n            this.getRetroTemplate(this.currentRetro.id);\r\n            this.getCategory();\r\n            this.getUserRight(this.currentRetro.id);\r\n            this.getAllMessage();\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n  getAllMessage(){\r\n    \r\n    this.messageService\r\n    .getAllNonCategoryMessage(this.currentRetro.id)\r\n    .pipe(first())\r\n    .subscribe(\r\n      (data) => {\r\n        this.messages = data;\r\n      },\r\n      (error) => { }\r\n    );\r\n  }\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectSubject = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n  getUserRight(retroId) {\r\n    let retro = new Retro();\r\n    retro.id = retroId;\r\n    retro.userId = this.authService.currentUserValue.userId;\r\n\r\n    this.configureService\r\n      .getUserRight(retro)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.retroRight = res;\r\n\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n\r\n  }\r\n\r\n  getComment(message: any) {\r\n\r\n    this.getMessage(message.id);\r\n    $('#modalComment').modal('show');\r\n  }\r\n\r\n  private GetHeaderMessage(headerId){\r\n\r\n      let filteredData=this.messages.filter(p=>p.clientuniqueid==headerId);\r\n    return filteredData;\r\n  }\r\n\r\n  private getRetroTemplate(retroId){\r\n    this.templateService\r\n    .getTemplateByRetroId(retroId)\r\n    .pipe(first())\r\n    .subscribe(\r\n      (data) => {\r\n        this.template = data;\r\n      },\r\n      (error) => { }\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  existUser() {\r\n    this.isUser = this.authService.hasRole(\"Member\");\r\n  }\r\n\r\n  \r\n\r\n  isVotedCheck(messageId:any){\r\n\r\n    let existVoted = this.votedMessages.filter(p => p == messageId)[0];\r\n    if (existVoted == null || existVoted == undefined) {\r\n          return false\r\n    }\r\n    else{\r\n      return true;\r\n    }\r\n\r\n     \r\n  }\r\n\r\n  setVote(message: any) {\r\n    let data = new VoteDto();\r\n    let currentUser = this.authService.currentUserValue;\r\n\r\n    let existVoted = this.votedMessages.filter(p => p == message.id)[0];\r\n\r\n    if (existVoted == null || existVoted == undefined) {\r\n      data.vote = true;\r\n      this.votedMessages.push(message.id);\r\n    }\r\n    else {\r\n      const index: number = this.votedMessages.indexOf(existVoted);\r\n      this.votedMessages.splice(index, 1);\r\n      data.vote = false;\r\n    }\r\n\r\n    data.messageId = message.id;\r\n    data.retroId = this.retroRight.retroId;\r\n    data.userId = currentUser.userId;\r\n\r\n    // this.chatService.setVote(data);\r\n\r\n    this.configureService.newVote(data).subscribe((res) => {\r\n      const newMessage = firebase.default.database().ref('vote/').push();\r\n      newMessage.set(data);\r\n      this.retroRight=res;\r\n      \r\n    });\r\n\r\n  }\r\n\r\n  private getMessage(messageId: number) {\r\n    this.messageService\r\n      .getMessageById(messageId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.message = data;\r\n\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n  private getCategory() {\r\n\r\n    this.messageService\r\n      .getAllNonCategoryMessage(this.currentRetro.id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (data) => {\r\n          this.messages = data;\r\n        },\r\n        (error) => { }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { EventEmitter, Injectable } from \"@angular/core\";\r\nimport { HubConnection, HubConnectionBuilder, LogLevel } from \"@aspnet/signalr\";\r\nimport { SubjectDto } from \"app/models/dto/subject-dto\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { Subject } from \"app/models/subject\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { environment } from \"environments/environment\";\r\nimport { SharedService } from \"../shared.service\";\r\nimport { UserService } from \"../user.service\";\r\n\r\n\r\n\r\n@Injectable()\r\nexport class RetroHubService {\r\n\r\n    connectionEstablished = new EventEmitter<Boolean>();\r\n    currentRetroReceived = new EventEmitter<Retro>();\r\n    allUserRight = new EventEmitter<Array<UserRight>>();\r\n    subjectReceived = new EventEmitter<Subject>();\r\n\r\n\r\n    private connectionIsEstablished = false;\r\n    private _hubConnection: HubConnection;\r\n\r\n    constructor(private userService: UserService, private sharedService: SharedService) {\r\n        this.createConnection();\r\n        this.startConnection();\r\n        this.getCurrentRetro();\r\n        this.getSelectedSubject();\r\n\r\n    }\r\n\r\n    private createConnection() {\r\n\r\n\r\n        this._hubConnection = new HubConnectionBuilder()\r\n            .withUrl(environment.serverBaseUrl + \"/RetroHub\")\r\n            .configureLogging(LogLevel.Information)\r\n            .build();\r\n    }\r\n\r\n    private async startConnection(): Promise<void> {\r\n        await this._hubConnection\r\n            .start()\r\n            .then(() => {\r\n                this.connectionIsEstablished = true;\r\n                this.connectionEstablished.emit(true);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Error while establishing connection, retrying...\");\r\n                setTimeout(()=>{\r\n                    this.startConnection();\r\n                }, 5000);\r\n            });\r\n\r\n\r\n    }\r\n\r\n\r\n    setCurrentRetro(data: Retro) {\r\n        this._hubConnection.invoke(\"setCurrentRetro\", data).catch(err => this.startConnection());\r\n    }\r\n\r\n    private getCurrentRetro(): void {\r\n        this._hubConnection.on(\"currentRetroReceived\", (data: any) => {\r\n            this.currentRetroReceived.emit(data);\r\n        });\r\n    }\r\n\r\n\r\n    setSelectedSubject(data: SubjectDto) {\r\n\r\n        this._hubConnection.invoke(\"setSelectedSubject\", data).catch(err => this.startConnection());\r\n    }\r\n\r\n    private getSelectedSubject(): void {\r\n        this._hubConnection.on(\"getSelectedSubjectReceived\", (data: any) => {\r\n            this.subjectReceived.emit(data);\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n}","import { EventEmitter, Injectable } from \"@angular/core\";\r\nimport { HubConnection, HubConnectionBuilder, LogLevel } from \"@aspnet/signalr\";\r\nimport { Retro } from \"app/models/retro\";\r\nimport { UserRight } from \"app/models/userRight\";\r\nimport { environment } from \"environments/environment\";\r\nimport { SharedService } from \"../shared.service\";\r\nimport { UserService } from \"../user.service\";\r\n\r\n\r\n\r\n@Injectable()\r\nexport class UserHubService {\r\n\r\n    connectionEstablished = new EventEmitter<Boolean>();\r\n\r\n    allUserRight = new EventEmitter<Array<UserRight>>();\r\n\r\n    private connectionIsEstablished = false;\r\n    private _hubConnection: HubConnection;\r\n\r\n    constructor(private userService: UserService, private sharedService: SharedService) {\r\n        this.createConnection();\r\n        this.startConnection();        this.getUserRights();\r\n\r\n    }\r\n\r\n    private createConnection() {\r\n\r\n\r\n        this._hubConnection = new HubConnectionBuilder()\r\n            .withUrl(environment.serverBaseUrl + \"/UserHub\")\r\n            .configureLogging(LogLevel.Debug)\r\n            .build();\r\n    }\r\n\r\n    private async startConnection(): Promise<void> {\r\n        await this._hubConnection\r\n            .start()\r\n            .then(() => {\r\n                this.connectionIsEstablished = true;\r\n                this.connectionEstablished.emit(true);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Error while establishing connection, retrying...\");\r\n                setTimeout(()=> {\r\n                    this.startConnection();\r\n                }, 5000);\r\n            });\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    setAllUserRights(retro) {\r\n        this._hubConnection.invoke(\"allUserRight\", retro).catch(err => this.startConnection());\r\n    }\r\n\r\n    private getUserRights(): void {\r\n        this._hubConnection.on(\"allUserRight\", (data: any) => {\r\n            this.allUserRight.emit(data);\r\n        });\r\n    }\r\n\r\n\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9zdWJqZWN0LWhlYWRlci9zdWJqZWN0LWhlYWRlci5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"mb-3 mt-4 card card-theme box-shadow\\\" *ngIf=\\\"  selectSubject.subjectTitle\\\">\\r\\n  <div class=\\\"card-body\\\">\\r\\n    <h3 class=\\\"card-title\\\">{{ selectSubject.subjectTitle }}</h3>\\r\\n    <p class=\\\"card-description\\\">\\r\\n      {{ selectSubject.subjectDescription }}\\r\\n    </p>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { SubjectDto } from 'app/models/dto/subject-dto';\r\nimport { Retro } from 'app/models/retro';\r\nimport { Subject } from 'app/models/subject';\r\nimport { RetroHubService } from 'app/services/hub/retro-hub.service';\r\nimport { RetroConfigurationService } from 'app/services/retro-configuration';\r\nimport { SharedService } from 'app/services/shared.service';\r\nimport { SubjectsService } from 'app/services/subject.service';\r\nimport { UserService } from 'app/services/user.service';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-subject-header',\r\n  templateUrl: './subject-header.component.html',\r\n  styleUrls: ['./subject-header.component.css']\r\n})\r\nexport class SubjectHeaderComponent implements OnInit {\r\n  currentRetro: Retro;\r\n  selectSubject: Subject=new Subject();\r\n  retroId:string='';\r\n\r\n  constructor(\r\n    private subjectService: SubjectsService,\r\n    private userService: UserService,\r\n    private retroConfigurationService: RetroConfigurationService,\r\n    private retroHubService: RetroHubService,\r\n    private sharedService:SharedService,\r\n    private _ngZone: NgZone,\r\n  ) {\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    \r\n    this.retroId=this.userService.currentRetroIdValue;\r\n\r\n    if(this.retroId){\r\n      this.getLastCurrentRetro(this.retroId);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getLastCurrentRetro(retroId:string) {\r\n\r\n    this.retroConfigurationService\r\n      .getCurrentRetro(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.currentRetro = res;\r\n         \r\n\r\n          if (this.currentRetro)\r\n            this.getRetroSubject(this.currentRetro.id);\r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n  private getRetroSubject(retroId) {\r\n    this.subjectService\r\n      .getRetroSubject(retroId)\r\n      .pipe(first())\r\n      .subscribe(\r\n        (res) => {\r\n\r\n          this.selectSubject = res;\r\n          \r\n        },\r\n        (error) => {\r\n\r\n        });\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC90YWItaGVhZGVyL3RhYi1oZWFkZXIuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"\\r\\n\\r\\n<ul class=\\\"header__retro-navigation tab-progress custom-slider-main\\\" #widgetsContent role=\\\"tablist\\\" >\\r\\n  <li class=\\\"navigation-item active\\\">\\r\\n    <a class=\\\"navigation-link template subject\\\"     [class.active]=\\\"isActive('/current/subject')\\\"\\r\\n    (click)=\\\"clickTab('/current/subject',true)\\\"\\r\\n      >\\r\\n      {{ 'tab_header.select_topic' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n    <a class=\\\"navigation-link  template\\\"    [class.active]=\\\"isActive('/current/template')\\\"\\r\\n      (click)=\\\"clickTab('/current/template',true)\\\"\\r\\n     >\\r\\n     {{ 'tab_header.Choose_Template' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n    <a class=\\\"navigation-link  brainstorm\\\"    [class.active]=\\\"isActive('/current/brainstorm')\\\"\\r\\n      (click)=\\\"clickTab('/current/brainstorm',true)\\\"\\r\\n      >\\r\\n      {{ 'tab_header.Develop_an_Idea' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n  \\r\\n    <a class=\\\"navigation-link  categorize\\\"   [class.active]=\\\"isActive('/current/categorize')\\\"\\r\\n      (click)=\\\"clickTab('/current/categorize',true)\\\"\\r\\n      >\\r\\n      {{ 'tab_header.categorize' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n    <a class=\\\"navigation-link  categorize\\\"  [class.active]=\\\"isActive('/current/comment')\\\"\\r\\n      (click)=\\\"clickTab('/current/comment',true)\\\">\\r\\n      {{ 'tab_header.comment' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n    <a class=\\\"navigation-link  comment\\\"     [class.active]=\\\"isActive('/current/vote')\\\"\\r\\n      (click)=\\\"clickTab('/current/vote',true)\\\">\\r\\n      {{ 'tab_header.vote' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n\\r\\n  <li class=\\\"navigation-item\\\">\\r\\n    <a class=\\\"navigation-link  vote report finish\\\"   [class.active]=\\\"isActive('/current/report')\\\"\\r\\n      (click)=\\\"clickTab('/current/report',true)\\\"\\r\\n      >\\r\\n      {{ 'tab_header.report' | translate }}\\r\\n    </a>\\r\\n  </li>\\r\\n</ul>\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from 'app/services/user.service';\r\n\r\nimport * as firebase from 'firebase';\r\nimport { snapshotToArray } from \"app/helpers/firebase-helper\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { Retro } from 'app/models/retro';\r\nimport { GuidGenerator } from 'app/helpers/guid-generator';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-tab-header',\r\n  templateUrl: './tab-header.component.html',\r\n  styleUrls: ['./tab-header.component.css']\r\n})\r\nexport class TabHeaderComponent implements OnInit {\r\n\r\n  @ViewChild(\"widgetsContent\") widgetsContent;\r\n  currentTab: string = \"\";\r\n  pathIndex: number = 0;\r\n  retroId: string = '';\r\n  ngAfterViewInit(): void {\r\n    const width = window.innerWidth;\r\n    if (width <= 576)\r\n      this.widgetsContent.nativeElement.scrollLeft += 150;\r\n\r\n\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authService: UserService,) {\r\n\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    firebase.default.database().ref('currentpath/').orderByChild(\"id\").equalTo(this.retroId).limitToLast(1).on('value', (resp: any) => {\r\n\r\n      var data = snapshotToArray(resp);\r\n      if (data.length > 0) {\r\n        let currentPage = data[0].currentPage;\r\n        let scrollDestination = currentPage.split(\"/\");\r\n        if (data[0].id == this.retroId) {\r\n          if (scrollDestination.length >= 2) {\r\n            const elementList = document.querySelectorAll('.' + scrollDestination[2]);\r\n            const element = elementList[0] as HTMLElement;\r\n\r\n            if (element != undefined)\r\n              element.scrollIntoView({ behavior: 'smooth' });\r\n          }\r\n\r\n\r\n\r\n          if (currentPage != \"/current/finish\") {\r\n\r\n            this.router.navigate([currentPage])\r\n          }\r\n          else {\r\n\r\n            if (this.isLeader()) {\r\n              firebase.default.database().ref(\"/currentPath\").remove();\r\n\r\n             \r\n             this.router.navigate([\"/current/start\"])\r\n           \r\n             \r\n            }\r\n            else {\r\n              this.authService.logout();\r\n              this.router.navigate([\"/current/finish\"])\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.currentTab = this.router.url;\r\n\r\n\r\n    this.retroId = this.authService.currentRetroIdValue;\r\n    if (this.retroId) {\r\n      this.clickTab(this.currentTab, false)\r\n    }\r\n  }\r\n\r\n  isActive(currentTab) {\r\n    return this.router.url == currentTab;\r\n  }\r\n\r\n  isLeader() {\r\n    return this.authService.hasRole(\"Leader\")\r\n  }\r\n\r\n\r\n\r\n\r\n  clickTab(tab: string, isAuto = true) {\r\n\r\n    this.currentTab = tab;\r\n    let generator = new GuidGenerator();\r\n    let current = new Retro();\r\n    current.currentPage = this.currentTab;\r\n    current.id = this.retroId;\r\n\r\n    if (this.isLeader()) {\r\n      const newMessage = firebase.default.database().ref('currentpath/').push();\r\n      newMessage.set(current);\r\n\r\n      let scrollDestination = tab.split(\"/\");\r\n      if (scrollDestination.length >= 2) {\r\n        const elementList = document.querySelectorAll('.' + scrollDestination[2]);\r\n        const element = elementList[0] as HTMLElement;\r\n        if (element != undefined)\r\n          element.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n\r\n      if (\"/current/subject\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 1;\r\n\r\n\r\n        }\r\n      }\r\n\r\n      if (\"/current/template\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 2;\r\n\r\n        }\r\n      }\r\n\r\n      if (\"/current/brainstorm\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 3;\r\n\r\n        }\r\n      }\r\n\r\n      if (\"/current/comment\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 4;\r\n\r\n\r\n        }\r\n      }\r\n      if (\"/current/categorize\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 5;\r\n\r\n        }\r\n\r\n\r\n      }\r\n      if (\"/current/vote\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 6;\r\n\r\n        }\r\n      }\r\n      if (\"/current/report\" == this.currentTab) {\r\n        if (this.authService.hasRole(\"Leader\")) {\r\n          this.pathIndex = 7;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      if (isAuto)\r\n        this.router.navigate([this.currentTab])\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}